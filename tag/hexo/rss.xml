<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>æ°å…‹é£çš„åšå®¢ â€¢ Posts by &#34;hexo&#34; tag</title>
        <link>https://120115.xyz</link>
        <description>ä¸€ä¸ªç”¨Hexoæ­å»ºçš„ä¸ªäººåšå®¢</description>
        <language>zh-CN</language>
        <pubDate>Mon, 21 Jul 2025 00:00:00 +0800</pubDate>
        <lastBuildDate>Mon, 21 Jul 2025 00:00:00 +0800</lastBuildDate>
        <category>HashMap</category>
        <category>çº¿ç¨‹å®‰å…¨</category>
        <category>ArrayList</category>
        <category>å®ç°åŸç†</category>
        <category>putæ–¹æ³•</category>
        <category>HashSet</category>
        <category>HashTable</category>
        <category>Hexo</category>
        <category>åšå®¢</category>
        <category>ç®—æ³•</category>
        <category>åŠ›æ‰£</category>
        <category>LeetCode</category>
        <category>åˆ·é¢˜</category>
        <category>AI</category>
        <category>Java</category>
        <category>LangChain4j</category>
        <category>å®æˆ˜æ•™ç¨‹</category>
        <category>æ¸¸æˆ</category>
        <category>Steam</category>
        <category>æ‰©å®¹</category>
        <category>å…«è‚¡</category>
        <category>ç‰›å®¢</category>
        <item>
            <guid isPermalink="true">https://120115.xyz/2025/07/21/java%E9%AB%98%E9%A2%91%E9%9D%A2%E8%AF%95%E9%A2%98/</guid>
            <title>javaé«˜é¢‘é¢è¯•é¢˜</title>
            <link>https://120115.xyz/2025/07/21/java%E9%AB%98%E9%A2%91%E9%9D%A2%E8%AF%95%E9%A2%98/</link>
            <category>Hexo</category>
            <category>åšå®¢</category>
            <pubDate>Mon, 21 Jul 2025 00:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;JavaSE&#34;&gt;&lt;a href=&#34;#JavaSE&#34; class=&#34;headerlink&#34; title=&#34;JavaSE&#34;&gt;&lt;/a&gt;JavaSE&lt;/h2&gt;&lt;h3 id=&#34;1-ä»€ä¹ˆæ˜¯JAVA&#34;&gt;&lt;a href=&#34;#1-ä»€ä¹ˆæ˜¯JAVA&#34; class=&#34;headerlink&#34; title=&#34;1. ä»€ä¹ˆæ˜¯JAVA?&#34;&gt;&lt;/a&gt;1. ä»€ä¹ˆæ˜¯JAVA?&lt;/h3&gt;&lt;p&gt;Java æ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¸æ”¶äº† C++ è¯­è¨€ä¸­å¤§é‡çš„ä¼˜ç‚¹ï¼Œä½†åˆæŠ›å¼ƒäº† C++ ä¸­å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼Œå¦‚åƒåœ¾å›æ”¶ã€æŒ‡é’ˆã€‚æ¯”è¾ƒé‡è¦çš„ç‰¹ç‚¹å°±æ˜¯è·¨å¹³å°æ€§ï¼Œåªéœ€è¦åœ¨å¯¹åº”çš„å¹³å°ä¸Šå®‰è£… JDKï¼Œå°±å¯ä»¥å®ç°è·¨å¹³å°ï¼Œåœ¨ Windowsã€macOSã€Linux æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚è¿˜æœ‰é¢å‘å¯¹è±¡ã€å¤šçº¿ç¨‹ï¼ŒJVMç­‰è¿™äº›è®©Javaå˜å¾—é«˜æ•ˆã€‚Javaæœ€é€‚åˆç”¨æ¥åšåç«¯å¼€å‘ï¼Œæœ‰å¾ˆå¤šæˆç†Ÿçš„æŠ€æœ¯æ ˆï¼Œæ¯”å¦‚Springboot,springcloudç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-Java-æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ&#34;&gt;&lt;a href=&#34;#2-Java-æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;2. Java æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ&#34;&gt;&lt;/a&gt;2. Java æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ&lt;/h3&gt;&lt;p&gt;åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ä¸¤å¤§ç±»ã€‚åŸºæœ¬æ•°æ®ç±»å‹æœ‰ï¼šæ•°å€¼å‹ï¼ˆbyte,short,int,longï¼‰ã€æµ®ç‚¹å‹(float,double)ã€å¸ƒå°”å‹booleanã€‚å¼•ç”¨æ•°æ®ç±»å‹æœ‰ç±»ï¼Œæ•°ç»„å’Œæ¥å£ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3-é¢å‘å¯¹è±¡ç¼–ç¨‹æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ&#34;&gt;&lt;a href=&#34;#3-é¢å‘å¯¹è±¡ç¼–ç¨‹æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;3. é¢å‘å¯¹è±¡ç¼–ç¨‹æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ&#34;&gt;&lt;/a&gt;3. é¢å‘å¯¹è±¡ç¼–ç¨‹æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ&lt;/h3&gt;&lt;p&gt;å°è£…ã€ç»§æ‰¿å’Œå¤šæ€ã€‚å°è£…å°±æ˜¯æŠŠä¸€äº›å±æ€§å’Œæ–¹æ³•æ†åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬å¯ä»¥å®ä¾‹åŒ–è¿™ä¸ªç±»å˜æˆå¯¹è±¡ï¼Œå¯¹è±¡å¯ä»¥è®¾ç½®å’Œè·å–å±æ€§ï¼Œè°ƒç”¨æ–¹æ³•ã€‚å¼€å‘ä¸­å°±æ˜¯å¯¹è±¡ä¹‹é—´çš„äº¤äº’ã€‚ç»§æ‰¿å°±æ˜¯å­ç±»è·å¾—çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå­ç±»è¿˜å¯ä»¥è¿›è¡Œæ‰©å……æˆ–è€…æ–¹æ³•é‡å†™ã€‚å¤šæ€å°±æ˜¯javaè¿è¡Œæ—¶å¯ä»¥æ ¹æ®å¯¹è±¡ç±»å‹äº§ç”Ÿä¸åŒçš„ç»“æœã€‚å­ç±»éœ€è¦ç»§æ‰¿çˆ¶ç±»å¹¶é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œçˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;4-æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#4-æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;4. æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;4. æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;p&gt;ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ï¼›ä½†ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚æ¯”å¦‚æˆ‘ä»¬åˆ›å»ºçº¿ç¨‹ç±»çš„æ—¶å€™ä¸€èˆ¬ç”¨å®ç° Runnable æ¥å£çš„æ–¹å¼ï¼Œè¿™æ ·çº¿ç¨‹ç±»è¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ï¼Œè€Œä¸å•å•æ˜¯ Thread ç±»ã€‚æŠ½è±¡ç±»ç¬¦åˆ is-a çš„å…³ç³»ï¼Œè€Œæ¥å£æ›´åƒæ˜¯ has-a çš„å…³ç³»ã€‚æ¯”å¦‚è¯´ä¸€ä¸ªç±»å¯ä»¥åºåˆ—åŒ–çš„æ—¶å€™ï¼Œå®ƒåªéœ€è¦å®ç° Serializable æ¥å£ï¼Œä»£è¡¨å®ƒæœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œè€Œä¸æ˜¯ç»§æ‰¿ä¸€ä¸ªåºåˆ—åŒ–ç±»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;5-å’Œ-equals-çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#5-å’Œ-equals-çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;5. &amp;#x3D;&amp;#x3D;å’Œ equals çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;5. &amp;#x3D;&amp;#x3D;å’Œ equals çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;p&gt;&amp;#x3D;&amp;#x3D; æ“ä½œç¬¦å’Œ equals() æ–¹æ³•ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ï¼š&amp;#x3D;&amp;#x3D;æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨å†…å­˜ä¸­æ˜¯ä¸æ˜¯åŒä¸€ä»½æ•°æ®ã€‚å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ int, double, char ç­‰ï¼‰ï¼Œ&amp;#x3D;&amp;#x3D; æ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰ã€‚equalsæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œé»˜è®¤è·Ÿ&amp;#x3D;&amp;#x3D;ç›¸åŒï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šå¯¹ä»–é‡å†™æ¥ç”¨äºæ¯”è¾ƒå€¼ï¼ˆæ¯”å¦‚å±æ€§ï¼‰æ˜¯å¦ç›¸åŒè€Œä¸æ˜¯å¼•ç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;6-ä¸ºä»€ä¹ˆé‡å†™-equals-æ—¶å¿…é¡»é‡å†™-hashCode-â½…æ³•ï¼Ÿ&#34;&gt;&lt;a href=&#34;#6-ä¸ºä»€ä¹ˆé‡å†™-equals-æ—¶å¿…é¡»é‡å†™-hashCode-â½…æ³•ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;6. ä¸ºä»€ä¹ˆé‡å†™ equals æ—¶å¿…é¡»é‡å†™ hashCode â½…æ³•ï¼Ÿ&#34;&gt;&lt;/a&gt;6. ä¸ºä»€ä¹ˆé‡å†™ equals æ—¶å¿…é¡»é‡å†™ hashCode â½…æ³•ï¼Ÿ&lt;/h3&gt;&lt;p&gt;å› ä¸ºåŸºäºå“ˆå¸Œçš„é›†åˆç±»ï¼ˆå¦‚ HashMapï¼‰éœ€è¦ä½¿ç”¨hashCodeå’Œequalsæ–¹æ³•æ¥å­˜å‚¨å’ŒæŸ¥æ‰¾å¯¹è±¡ã€‚å­˜å‚¨æ—¶é¦–å…ˆæ ¹æ®é”®çš„hashCodeè®¡ç®—å‡ºåœ¨æ•°ç»„ä¸­çš„å­˜å‚¨ä½ç½®ï¼Œæ¯ä¸ªä½ç½®å¯ä»¥å­˜å•ä¸ªå€¼ã€é“¾è¡¨å’Œçº¢é»‘æ ‘ï¼Œå¦‚æœæ²¡æœ‰é‡å†™hashCodeæ–¹æ³•ï¼Œä¸¤ä¸ªç›¸åŒçš„é”®å¯èƒ½å‡ºç°ä¸åŒçš„hashCodeå¯¼è‡´å®ƒä»¬è¢«å­˜åœ¨æ•°ç»„ä¸­çš„ä¸åŒä½ç½®ï¼Œè·å–æ—¶å°±å‘ç”Ÿé”™è¯¯ã€‚å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼Œé”®ä¼šè¢«å­˜åœ¨æ•°ç»„çš„åŒä¸€ä¸ªæ¡¶ä¸­ï¼Œé€šè¿‡é“¾è¡¨å’Œçº¢é»‘æ ‘è§£å†³å“ˆå¸Œå†²çªé—®é¢˜ï¼Œå‘ç”Ÿå“ˆå¸Œå†²çªçš„æ¡¶ä¸­å…ƒç´ çš„hashCodeå€¼ç›¸åŒï¼Œå¿…é¡»å†ç”¨equalsæ¯”è¾ƒå€¼æ‰èƒ½æ‰¾å‡ºå¯¹åº”å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰é‡å†™equals()æ–¹æ³•å°±æ‰¾ä¸åˆ°éœ€è¦çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;h3 id=&#34;7-String-å’Œ-StringBuilderã€StringBuffer-çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#7-String-å’Œ-StringBuilderã€StringBuffer-çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;7. String å’Œ StringBuilderã€StringBuffer çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;7. String å’Œ StringBuilderã€StringBuffer çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;p&gt;å®ƒä»¬éƒ½æ˜¯ç”¨äºå¤„ç†å­—ç¬¦ä¸²çš„ï¼ŒStringåº•å±‚ç”¨äº†finalä¿®é¥°æ˜¯ä¸å¯å˜çš„ï¼Œæ¯æ¬¡ä¿®æ”¹éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¼€é”€å¾ˆå¤§ï¼Œå¦‚æœè¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²å¯ä»¥ç”¨StringBuilderï¼Œå®ƒæ˜¯åœ¨åŸå¯¹è±¡ä¸Šä¿®æ”¹ã€‚StringBufferè·ŸStringBuilderç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒçš„æ–¹æ³•ä¸Šéƒ½åŠ äº† synchronized å…³é”®å­—ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™åœ¨å•çº¿ç¨‹ä¸‹æ•ˆç‡æ¯”è¾ƒä½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;8-Java-ä¸­å¼‚å¸¸å¤„ç†ä½“ç³»&#34;&gt;&lt;a href=&#34;#8-Java-ä¸­å¼‚å¸¸å¤„ç†ä½“ç³»&#34; class=&#34;headerlink&#34; title=&#34;8. Java ä¸­å¼‚å¸¸å¤„ç†ä½“ç³»?&#34;&gt;&lt;/a&gt;8. Java ä¸­å¼‚å¸¸å¤„ç†ä½“ç³»?&lt;/h3&gt;&lt;p&gt;ä¸»è¦æœ‰ä¸¤å¤§ç±»ï¼Œé”™è¯¯å’Œå¼‚å¸¸ï¼Œé”™è¯¯æŒ‡çš„æ˜¯ç¨‹åºæ— æ³•å¤„ç†çš„ä¸¥é‡é”™è¯¯ï¼Œæ¯”å¦‚å†…å­˜æº¢å‡ºï¼Œæ ˆæº¢å‡ºï¼Œè¿™äº›é”™è¯¯é€šå¸¸ä¸ JVM çš„è¿è¡ŒçŠ¶æ€æœ‰å…³ã€‚å¼‚å¸¸åˆ†ä¸ºç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸ï¼Œç¼–è¯‘æ—¶å¼‚å¸¸å¯ä»¥è¢«try-catchæ•è·å¤„ç†æˆ–è€…throwsæŠ›å‡ºï¼Œæ¯”å¦‚IOExceptionã€SQLExceptionï¼Œè¿è¡Œæ—¶å¼‚å¸¸é€šå¸¸æ˜¯ä»£ç é€»è¾‘é”™è¯¯ï¼Œæ¯”å¦‚æ•°ç»„è¶Šç•Œï¼Œç©ºæŒ‡é’ˆç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;9-BIOã€NIOã€AIO-ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#9-BIOã€NIOã€AIO-ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;9. BIOã€NIOã€AIO ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;9. BIOã€NIOã€AIO ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;p&gt;BIOï¼šé‡‡ç”¨é˜»å¡å¼ I&amp;#x2F;O æ¨¡å‹ï¼ŒåŸºäºå­—èŠ‚æµæˆ–å­—ç¬¦æµæ–‡ä»¶è¯»å†™ï¼ŒåŸºäº Socket å’Œ ServerSocket è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œé€‚ç”¨äºè¿æ¥æ•°è¾ƒå°‘çš„åœºæ™¯ï¼Œæ¯ä¸ªè¿æ¥ï¼Œéƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹æ¥å¤„ç†è¯»å†™æ“ä½œã€‚&lt;br&gt;NIOï¼šé‡‡ç”¨éé˜»å¡ I&amp;#x2F;O æ¨¡å‹ï¼Œçº¿ç¨‹åœ¨ç­‰å¾… I&amp;#x2F;O æ—¶å¯æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œä¸»è¦ç”¨åœ¨ç½‘ç»œç¼–ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨å¯ä»¥ç”¨ä¸€ä¸ªçº¿ç¨‹å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼Œé€šè¿‡ Selector ç›‘å¬å¤šä¸ª Channel æ¥å®ç°å¤šè·¯å¤ç”¨ï¼Œé€‚ç”¨äºè¿æ¥æ•°å¤šä½†è¿æ¥æ—¶é—´çŸ­çš„åœºæ™¯ã€‚&lt;br&gt;AIOï¼šä½¿ç”¨å¼‚æ­¥ I&amp;#x2F;O æ¨¡å‹ï¼Œçº¿ç¨‹å‘èµ· I&amp;#x2F;O è¯·æ±‚åç«‹å³è¿”å›ï¼Œä¸éœ€è¦ç­‰å¾…ï¼Œå½“ I&amp;#x2F;O æ“ä½œå®Œæˆæ—¶é€šè¿‡å›è°ƒå‡½æ•°é€šçŸ¥çº¿ç¨‹ï¼Œé€‚ç”¨äºè¿æ¥æ•°å¤šä¸”è¿æ¥æ—¶é—´é•¿çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;10-ğŸŒŸä»€ä¹ˆæ˜¯åå°„ï¼Ÿåº”ç”¨ï¼ŸåŸç†ï¼Ÿ&#34;&gt;&lt;a href=&#34;#10-ğŸŒŸä»€ä¹ˆæ˜¯åå°„ï¼Ÿåº”ç”¨ï¼ŸåŸç†ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;10. ğŸŒŸä»€ä¹ˆæ˜¯åå°„ï¼Ÿåº”ç”¨ï¼ŸåŸç†ï¼Ÿ&#34;&gt;&lt;/a&gt;10. ğŸŒŸä»€ä¹ˆæ˜¯åå°„ï¼Ÿåº”ç”¨ï¼ŸåŸç†ï¼Ÿ&lt;/h3&gt;&lt;p&gt;åå°„å°±æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–ç±»çš„ä¿¡æ¯ï¼Œç„¶åä½¿ç”¨å®ƒçš„å±æ€§å’Œæ–¹æ³•çš„æŠ€æœ¯ã€‚Spring æ¡†æ¶åŠ¨æ€åŠ è½½å’Œç®¡ç† Beanã€AOPçš„åŠ¨æ€ä»£ç†ï¼Œè¿˜æœ‰Junitæµ‹è¯•æ¡†æ¶è¿™äº›éƒ½ç”¨åˆ°äº†åå°„ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨Class.forNameé€šè¿‡ç±»åè·å–ä¸€ä¸ªç±»ï¼Œç„¶åè°ƒç”¨newInstanceæ–¹æ³•åˆ›å»ºå®ä¾‹å¯¹è±¡ï¼ŒgetMethodï¼Œinvokeæ–¹æ³•å¯ä»¥è·å–å’Œè°ƒç”¨æ–¹æ³•ï¼ŒgetDeclaredFieldå¯ä»¥è·å–å±æ€§ï¼Œå¯¹äºç§æœ‰å±æ€§å¯ä»¥è°ƒç”¨setAccessible(true); è®©å®ƒå¯è§ã€‚åŸç†å°±æ˜¯Java ç¨‹åºçš„æ‰§è¡Œåˆ†ä¸ºç¼–è¯‘å’Œè¿è¡Œä¸¤æ­¥ï¼Œç¼–è¯‘ä¹‹åä¼šç”Ÿæˆå­—èŠ‚ç (.class)æ–‡ä»¶ï¼ŒJVM è¿›è¡Œç±»åŠ è½½çš„æ—¶å€™ï¼Œä¼šåŠ è½½å­—èŠ‚ç æ–‡ä»¶ï¼Œå°†ç±»å‹ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯åŠ è½½è¿›æ–¹æ³•åŒºï¼Œåå°„å°±æ˜¯å»è·å–è¿™äº›ä¿¡æ¯ï¼Œç„¶åè¿›è¡Œå„ç§æ“ä½œã€‚&lt;/p&gt;
&lt;h2 id=&#34;Javaé›†åˆ&#34;&gt;&lt;a href=&#34;#Javaé›†åˆ&#34; class=&#34;headerlink&#34; title=&#34;Javaé›†åˆ&#34;&gt;&lt;/a&gt;Javaé›†åˆ&lt;/h2&gt;&lt;h3 id=&#34;1-å¸¸è§é›†åˆæœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#1-å¸¸è§é›†åˆæœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;1. å¸¸è§é›†åˆæœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;1. å¸¸è§é›†åˆæœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;p&gt;é›†åˆæœ‰ä¸¤å¤§ç±»ï¼ŒCollection æ¥å£å’ŒMap æ¥å£ã€‚Collection æ¥å£ä¸‹æœ‰Listã€Set,å’ŒQueue, ListåŒ…å«æœ‰åºå¯é‡å¤çš„å…ƒç´ ã€‚å®ç°ç±»åŒ…æ‹¬ ArrayListã€LinkedListã€‚Setæ˜¯æ— åºä¸é‡å¤çš„é›†åˆã€‚å®ç°ç±»åŒ…æ‹¬ HashSetã€LinkedHashSetã€TreeSet ç­‰ã€‚Queueæ˜¯é˜Ÿåˆ—ã€‚å®ç°ç±»åŒ…æ‹¬ PriorityQueueã€ArrayDeque ç­‰ã€‚Map æ˜¯è¡¨ç¤ºé”®å€¼å¯¹çš„é›†åˆã€‚é”®ä¸èƒ½é‡å¤ã€‚å®ç°ç±»åŒ…æ‹¬ HashMapã€LinkedHashMapã€TreeMap ç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-å“ªäº›æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ï¼Ÿ&#34;&gt;&lt;a href=&#34;#2-å“ªäº›æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;2. å“ªäº›æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ï¼Ÿ&#34;&gt;&lt;/a&gt;2. å“ªäº›æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ï¼Ÿ&lt;/h3&gt;&lt;p&gt;åƒ Vectorã€Hashtableã€ConcurrentHashMapã€CopyOnWriteArrayListã€ConcurrentLinkedQueueã€ArrayBlockingQueueã€LinkedBlockingQueue éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3-ArrayList-å’Œ-LinkedList-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#3-ArrayList-å’Œ-LinkedList-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;3. ArrayList å’Œ LinkedList æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;3. ArrayList å’Œ LinkedList æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;p&gt;ArrayList åº•å±‚æ˜¯åŠ¨æ€æ•°ç»„ï¼Œå†…å­˜æ˜¯è¿ç»­çš„ï¼ŒæŸ¥æ‰¾å¿«ï¼Œå¢åˆ æ…¢ï¼Œé€‚åˆç»å¸¸é€šè¿‡ç´¢å¼•è®¿é—®ï¼Œåœ¨æœ«å°¾å¢åˆ çš„åœºæ™¯ï¼ŒLinkedList åº•å±‚æ˜¯åŒå‘é“¾è¡¨ï¼ŒæŸ¥æ‰¾æ…¢ï¼Œå¢åˆ å¿«ï¼Œé€‚åˆé¢‘ç¹å¢åˆ çš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;4-ArrayList-çš„æ‰©å®¹æœºåˆ¶äº†è§£å—ï¼Ÿåº•å±‚å®ç°ï¼Ÿ&#34;&gt;&lt;a href=&#34;#4-ArrayList-çš„æ‰©å®¹æœºåˆ¶äº†è§£å—ï¼Ÿåº•å±‚å®ç°ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;4. ArrayList çš„æ‰©å®¹æœºåˆ¶äº†è§£å—ï¼Ÿåº•å±‚å®ç°ï¼Ÿ&#34;&gt;&lt;/a&gt;4. ArrayList çš„æ‰©å®¹æœºåˆ¶äº†è§£å—ï¼Ÿåº•å±‚å®ç°ï¼Ÿ&lt;/h3&gt;&lt;p&gt;å½“å¾€ ArrayList ä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œå¦‚æœå½“å‰å®¹é‡+1 è¶…è¿‡æ•°ç»„é•¿åº¦ï¼Œå°±è°ƒç”¨growæ–¹æ³•ç”Ÿæˆä¸€ä¸ª1.5å€å®¹é‡çš„æ–°æ•°ç»„ï¼Œç„¶åæ‹·è´å…ƒç´ åˆ°æ–°æ•°ç»„ä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&#34;5-ArrayList-æ€ä¹ˆåºåˆ—åŒ–çš„çŸ¥é“å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#5-ArrayList-æ€ä¹ˆåºåˆ—åŒ–çš„çŸ¥é“å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;5. ArrayList æ€ä¹ˆåºåˆ—åŒ–çš„çŸ¥é“å—ï¼Ÿ&#34;&gt;&lt;/a&gt;5. ArrayList æ€ä¹ˆåºåˆ—åŒ–çš„çŸ¥é“å—ï¼Ÿ&lt;/h3&gt;&lt;p&gt;å®ƒé‡å†™äº†writeObject æ–¹æ³•ç”¨äºè‡ªå®šä¹‰åºåˆ—åŒ–ï¼šåªåºåˆ—åŒ–æœ‰æ•ˆæ•°æ®ï¼Œå› ä¸ºå®é™…å­˜å‚¨çš„å…ƒç´ æ•°é‡ä¸€èˆ¬å°äºelementData æ•°ç»„çš„å®¹é‡ï¼Œå£°æ˜çš„æ—¶å€™ä¹ŸåŠ äº† transient å…³é”®å­—é˜²æ­¢è¢«é»˜è®¤åºåˆ—åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;6-HashMapå®ç°åŸç†ï¼Ÿ-é«˜é¢‘&#34;&gt;&lt;a href=&#34;#6-HashMapå®ç°åŸç†ï¼Ÿ-é«˜é¢‘&#34; class=&#34;headerlink&#34; title=&#34;6. HashMapå®ç°åŸç†ï¼Ÿ(é«˜é¢‘)&#34;&gt;&lt;/a&gt;6. HashMapå®ç°åŸç†ï¼Ÿ(é«˜é¢‘)&lt;/h3&gt;&lt;p&gt;JDK8ä¹‹å‰æ˜¯æ•°ç»„+é“¾è¡¨ã€‚ä¹‹åæ˜¯æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ã€‚å­˜å‚¨å…ƒç´ æ—¶ï¼Œåˆ©ç”¨keyçš„hashCodeé‡æ–°hashè®¡ç®—å‡ºå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚æœä¸¤ä¸ªkeyå‡ºç°äº†ç›¸åŒçš„hashå€¼ï¼ˆå“ˆå¸Œå†²çªï¼‰ï¼šå¦‚æœkeyç›¸åŒï¼Œè¦†ç›–åŸå€¼ã€‚ keyä¸åŒï¼ŒæŠŠkey-valueæ”¾å…¥é“¾è¡¨æˆ–çº¢é»‘æ ‘ä¸­ï¼Œé“¾è¡¨çš„é•¿åº¦å¤§äº8å¹¶ä¸”æ•°ç»„é•¿åº¦å¤§äº64æ—¶é“¾è¡¨è½¬æˆçº¢é»‘æ ‘ã€‚æ‰©å®¹resizeæ—¶ï¼Œçº¢é»‘æ ‘çš„ç»“ç‚¹â‰¤6å°±é€€åŒ–æˆé“¾è¡¨ã€‚è·å–å…ƒç´ æ—¶ï¼Œç›´æ¥æ‰¾åˆ°hashå€¼å¯¹åº”ä¸‹æ ‡ï¼Œå†åˆ¤æ–­keyæ˜¯å¦ç›¸åŒæ¥æ‰¾åˆ°å€¼ã€‚å®ƒçš„åˆå§‹å®¹é‡16ï¼ŒåŠ è½½å› å­0.75ã€‚åˆ›å»ºæ—¶ä½¿ç”¨æ‡’åŠ è½½ï¼Œä¸åˆå§‹åŒ–å®¹é‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;7-HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹ï¼Ÿ-é«˜é¢‘&#34;&gt;&lt;a href=&#34;#7-HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹ï¼Ÿ-é«˜é¢‘&#34; class=&#34;headerlink&#34; title=&#34;7. HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹ï¼Ÿ(é«˜é¢‘)&#34;&gt;&lt;/a&gt;7. HashMapçš„putæ–¹æ³•çš„å…·ä½“æµç¨‹ï¼Ÿ(é«˜é¢‘)&lt;/h3&gt;&lt;p&gt;ç¬¬ä¸€æ­¥æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œé¦–æ¬¡putæ—¶ï¼Œè°ƒç”¨resize()åˆå§‹åŒ–æ•°ç»„ï¼Œé»˜è®¤å®¹é‡ä¸º 16ï¼Œè´Ÿè½½å› å­ä¸º0.75ã€‚&lt;br&gt;ç¬¬äºŒæ­¥ï¼Œè®¡ç®—é”®çš„å“ˆå¸Œå€¼ï¼Œå…·ä½“æ˜¯å°† é”®çš„hashCode å¼‚æˆ– hashCode å³ç§»16ä½çš„å€¼ã€‚è¿™æ˜¯ä¸ºäº†å‡å°‘å“ˆå¸Œå†²çªï¼Œè®©å…ƒç´ åˆ†å¸ƒæ›´å‡åŒ€ã€‚&lt;br&gt;ç¬¬ä¸‰æ­¥ï¼Œæ ¹æ®é”®çš„å“ˆå¸Œå€¼è®¡ç®—æ•°ç»„ç´¢å¼•ï¼Œå…·ä½“æ˜¯å°†é”®çš„å“ˆå¸Œå€¼ ä¸ä¸Š æ•°ç»„é•¿åº¦-1ï¼ˆç­‰ä»·äºå“ˆå¸Œå€¼æ¨¡æ•°ç»„é•¿åº¦ï¼Œå› ä¸ºä¸è¿ç®—çš„æ•ˆç‡æ›´é«˜æ‰€ä»¥ç”¨ä¸è¿ç®—ä»£æ›¿æ¨¡è¿ç®—ï¼Œä½†å‰ææ˜¯æ•°ç»„é•¿åº¦æ˜¯2çš„Næ¬¡å¹‚ï¼‰ã€‚&lt;br&gt;ç¬¬å››æ­¥ï¼Œæ£€æŸ¥æ•°ç»„ç´¢å¼•å¯¹åº”æ§½ä½çš„æƒ…å†µã€‚å¦‚æœä¸ºç©ºï¼Œç›´æ¥æ’å…¥ï¼›å¦‚æœä¸ä¸ºç©ºï¼Œç”¨equalsåˆ¤æ–­å¯¹åº”ä½ç½®é”®æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå­˜åœ¨åˆ™æ›´æ–°å€¼ã€‚å¦‚æœå¯¹åº”ä½ç½®æ˜¯çº¢é»‘æ ‘ï¼Œæ’å…¥æ ‘ç»“ç‚¹ã€‚æ˜¯é“¾è¡¨å°±éå†é“¾è¡¨é€ä¸ªç”¨equalsæ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™æ›´æ–°å€¼ï¼Œéå†å®Œåå‘ç°ä¸å­˜åœ¨åˆ™æ’å…¥é“¾è¡¨å°¾éƒ¨ï¼Œå¦‚æœé“¾è¡¨é•¿åº¦â‰¥8ä¸”æ•°ç»„é•¿åº¦â‰¥64ï¼Œé“¾è¡¨è½¬æˆçº¢é»‘æ ‘ã€‚&lt;/p&gt;
&lt;p&gt;hashMapçš„å¯»å€ç®—æ³•ï¼šæ‰°åŠ¨ç®—æ³•ï¼Œé€šè¿‡hashæ–¹æ³•ï¼Œhashcode ^ hashcode &amp;lt;&amp;lt;&amp;lt; 16ã€‚&lt;br&gt;é¦–å…ˆè®¡ç®—é”®çš„hashCode,å†è°ƒç”¨hashæ–¹æ³•è¿›è¡ŒäºŒæ¬¡å“ˆå¸Œï¼ŒhashCodeå³ç§»16ä½å†å’ŒhashCodeè¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå‡å°‘å“ˆå¸Œå†²çªï¼Œæœ€åç”¨å“ˆå¸Œå€¼ ä¸ å®¹é‡ -1 å¾—åˆ°ç´¢å¼•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;8-è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶-é«˜é¢‘&#34;&gt;&lt;a href=&#34;#8-è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶-é«˜é¢‘&#34; class=&#34;headerlink&#34; title=&#34;8. è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶(é«˜é¢‘)&#34;&gt;&lt;/a&gt;8. è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶(é«˜é¢‘)&lt;/h3&gt;&lt;p&gt;å½“å“ˆå¸Œè¡¨ä¸­å…ƒç´ ä¸ªæ•°è¶…è¿‡é˜ˆå€¼æ—¶ä¼šè§¦å‘æ‰©å®¹resizeæ–¹æ³•ï¼Œè¿™ä¸ªé˜ˆå€¼æ˜¯ æ•°ç»„å®¹é‡ * è´Ÿè½½å› å­,æ•°ç»„å®¹é‡åˆå§‹æ˜¯16ï¼Œè´Ÿè½½å› å­é»˜è®¤æ˜¯0.75ã€‚&lt;br&gt;æ‰©å®¹æ—¶ï¼š&lt;br&gt;ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå®¹é‡ä¸ºæ—§æ•°ç»„çš„2å€ï¼Œå…·ä½“æ˜¯å°†æ—§å®¹é‡å·¦ç§»1ä½å¾—åˆ°æ–°å®¹é‡ã€‚&lt;br&gt;ç¬¬äºŒæ­¥ï¼Œè¿ç§»å…ƒç´ ï¼Œéå†æ—§æ•°ç»„çš„æ¯ä¸ªæ§½ä½ï¼Œé‡æ–°è®¡ç®—ç´¢å¼•åæ”¾åˆ°æ–°æ•°ç»„ã€‚å¦‚æœæ§½ä½æ˜¯å•ä¸ªèŠ‚ç‚¹ï¼Œé€šè¿‡e.hash &amp;amp; (newCapæ–°å®¹é‡ - 1)è®¡ç®—æ–°ç´¢å¼•ï¼›å¦‚æœæ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œæ‹†åˆ†å¤„ç†ã€‚å¦‚æœæ˜¯é“¾è¡¨èŠ‚ç‚¹ï¼Œå°†é“¾è¡¨æ‹†åˆ†ä¸ºä½ä½é“¾å’Œé«˜ä½é“¾ï¼Œé¿å…é‡æ–°å“ˆå¸Œå¸¦æ¥æ€§èƒ½æŸè€—ï¼Œå¦‚æœ e.hash &amp;amp; oldCap &amp;#x3D;&amp;#x3D; 0ï¼ˆå…ƒç´ å“ˆå¸Œå€¼ä¸ä¸Šæ—§å®¹é‡ç­‰äº0ï¼‰å°±æ˜¯ä½ä½é“¾ï¼Œç´¢å¼•ä¸å˜ã€‚å¦‚æœä¸ä¸º0ï¼Œå°±æ˜¯é«˜ä½é“¾ï¼Œç´¢å¼•å˜æˆ æ—§ç´¢å¼• + æ—§å®¹é‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚?&lt;br&gt;æ•°ç»„é•¿åº¦æ˜¯ 2 çš„å¹‚æ¬¡æ–¹æ—¶ï¼Œhash % lengthå’Œhash &amp;amp; (length - 1)çš„è®¡ç®—ç»“æœæ˜¯ä¸€æ ·çš„ã€‚ä¸è¿‡æŒ‰ä½ä¸è¿ç®—åœ¨æ€§èƒ½ä¸Šæ›´å…·ä¼˜åŠ¿ã€‚è®¡ç®—ç´¢å¼•æ—¶æ•ˆç‡æ›´é«˜ï¼Œæ‰©å®¹æ—¶æ•ˆç‡æ›´é«˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;9-HashMap-æ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#9-HashMap-æ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;9. HashMap æ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&#34;&gt;&lt;/a&gt;9. HashMap æ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&lt;/h3&gt;&lt;p&gt;ä¸æ˜¯ã€‚JDK7 ä¸­çš„ HashMap ä½¿ç”¨çš„æ˜¯å¤´æ’æ³•æ¥å¤„ç†é“¾è¡¨ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ‰©å®¹ä¼šå‡ºç°ç¯å½¢é“¾è¡¨ï¼Œé€ æˆæ­»å¾ªç¯ã€‚JDK 8 æ—¶é€šè¿‡å°¾æ’æ³•ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰©å®¹æ—¶ä¼šä¿æŒé“¾è¡¨åŸæ¥çš„é¡ºåºã€‚å¤šçº¿ç¨‹åœ¨è¿›è¡Œ put å…ƒç´ çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±ã€‚å› ä¸ºputæ“ä½œä¸æ˜¯åŸå­çš„ã€‚å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶æ£€æŸ¥åˆ° â€œæ§½ä½ä¸ºç©ºâ€ æˆ– â€œé”®ä¸å­˜åœ¨â€ æ—¶ï¼Œå¯èƒ½éƒ½å†³å®šå†™å…¥ï¼Œè¿™æ ·å°±å¯èƒ½å¯¼è‡´å…ƒç´ å…ˆæ’å…¥çš„å…ƒç´ è¢«è¦†ç›–è€Œä¸¢å¤±put å’Œ get å¹¶å‘æ—¶ï¼Œå¯èƒ½å¯¼è‡´ get ä¸º nullã€‚çº¿ç¨‹ 1 æ‰§è¡Œ put æ—¶ï¼Œå› ä¸ºå…ƒç´ ä¸ªæ•°è¶…å‡ºé˜ˆå€¼è€Œæ‰©å®¹ï¼Œçº¿ç¨‹ 2 æ­¤æ—¶æ‰§è¡Œ getå°±å¯èƒ½è·å–ä¸åˆ°å…ƒç´ ã€‚çº¿ç¨‹ 1 æ‰§è¡Œå®Œ table &amp;#x3D; newTab ä¹‹åï¼Œçº¿ç¨‹ 2 ä¸­çš„ table å·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼Œçº¿ç¨‹ 2 å» get ç´¢å¼• å…ƒç´ å¯èƒ½å°± get ä¸åˆ°äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-æ€ä¹ˆè§£å†³HashMapçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ï¼Ÿ&#34;&gt;&lt;a href=&#34;#1-æ€ä¹ˆè§£å†³HashMapçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;1. æ€ä¹ˆè§£å†³HashMapçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ï¼Ÿ&#34;&gt;&lt;/a&gt;1. æ€ä¹ˆè§£å†³HashMapçº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ï¼Ÿ&lt;/h3&gt;&lt;p&gt;æ—©æœŸçš„ JDK ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ç”¨ &lt;code&gt;Hashtable&lt;/code&gt; æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚&lt;code&gt;Hashtable&lt;/code&gt; åœ¨æ–¹æ³•ä¸ŠåŠ äº† &lt;code&gt;synchronized&lt;/code&gt; å…³é”®å­—ã€‚ä½†æ˜¯å®ƒåŒæ­¥å¼€é”€æ¯”è¾ƒå¤§ã€è¿˜ä¸æ”¯æŒ nullã€æ‰©å®¹æ•ˆç‡ä½ï¼Œå·²ç»è¢«æ·˜æ±°ã€‚å¤šçº¿ç¨‹åœºæ™¯ä¸‹æ¨èä½¿ç”¨ &lt;code&gt;ConcurrentHashMap&lt;/code&gt;ï¼Œå®ƒä½¿ç”¨äº†åˆ†æ®µé”ä¼˜åŒ–ï¼Œæ€§èƒ½è¿œè¶… &lt;code&gt;HashTable&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;å¹¶å‘ä¸JUCé«˜é¢‘é¢è¯•é¢˜&#34;&gt;&lt;a href=&#34;#å¹¶å‘ä¸JUCé«˜é¢‘é¢è¯•é¢˜&#34; class=&#34;headerlink&#34; title=&#34;å¹¶å‘ä¸JUCé«˜é¢‘é¢è¯•é¢˜&#34;&gt;&lt;/a&gt;å¹¶å‘ä¸JUCé«˜é¢‘é¢è¯•é¢˜&lt;/h2&gt;&lt;h3 id=&#34;2-è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#2-è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;2. è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;2. è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿›ç¨‹&lt;/strong&gt;ï¼šç¨‹åºåœ¨æ“ä½œç³»ç»Ÿä¸­çš„ä¸€æ¬¡æ‰§è¡Œï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ‹¥æœ‰ç‹¬ç«‹å†…å­˜ç©ºé—´å’Œç³»ç»Ÿèµ„æºï¼Œè¿›ç¨‹é—´åˆ‡æ¢å¼€é”€å¤§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çº¿ç¨‹&lt;/strong&gt;ï¼šè¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œæ˜¯ CPU è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œå…±äº«æ‰€å±è¿›ç¨‹çš„èµ„æºï¼Œçº¿ç¨‹é—´åˆ‡æ¢å¼€é”€å°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¹¶è¡Œ&lt;/strong&gt;ï¼šå¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¹¶å‘&lt;/strong&gt;ï¼šå¤šä¸ªä»»åŠ¡é€šè¿‡æ—¶é—´ç‰‡è½®è½¬åœ¨ä¸€æ®µæ—¶é—´å†…äº¤æ›¿æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;3-çº¿ç¨‹åˆ›å»ºçš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;a href=&#34;#3-çº¿ç¨‹åˆ›å»ºçš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;3. çº¿ç¨‹åˆ›å»ºçš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ&#34;&gt;&lt;/a&gt;3. çº¿ç¨‹åˆ›å»ºçš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ&lt;/h3&gt;&lt;p&gt;æœ‰å››ç§ï¼Œåˆ†åˆ«æ˜¯ç»§æ‰¿ Thread ç±»ã€å®ç° Runnable æ¥å£ã€å®ç° Callable æ¥å£ï¼Œçº¿ç¨‹æ± åˆ›å»ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. ç»§æ‰¿ Thread ç±»&lt;/strong&gt;ï¼šéœ€è¦é‡å†™çˆ¶ç±» Thread çš„ run() æ–¹æ³•ï¼Œç„¶åè°ƒç”¨ start() æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚ç¼ºç‚¹æ˜¯ï¼Œå¦‚æœ ThreadTask å·²ç»ç»§æ‰¿äº†å¦å¤–ä¸€ä¸ªç±»ï¼Œå°±ä¸èƒ½å†ç»§æ‰¿ Thread ç±»äº†ï¼Œå› ä¸º Java ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. å®ç° Runnable æ¥å£&lt;/strong&gt;ï¼šé‡å†™ Runnable æ¥å£çš„ run() æ–¹æ³•ï¼Œç„¶åæŠŠå®ƒä½œä¸ºå‚æ•°ä¼ ç»™ Threadç±»ï¼Œæœ€åè°ƒç”¨ start() æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯å¯ä»¥é¿å… Java çš„å•ç»§æ‰¿é™åˆ¶ï¼Œç¼ºç‚¹æ˜¯æ²¡æœ‰è¿”å›å€¼ï¼Œæ‹¿ä¸åˆ°çº¿ç¨‹æ‰§è¡Œç»“æœå¹¶ä¸”ä¸èƒ½æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. å®ç° Callable æ¥å£&lt;/strong&gt;ï¼šé‡å†™ Callable æ¥å£çš„ call() æ–¹æ³•ï¼Œç„¶ååˆ›å»ºä¸€ä¸ª CallableTask å¯¹è±¡ï¼Œç„¶ååˆ›å»º FutureTask å¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä»¥ CallableTask å®ä¾‹ä¼ å‚ï¼›ç„¶ååˆ›å»º Thread å¯¹è±¡ï¼Œå‚æ•°ä¸º FutureTask å¯¹è±¡ï¼Œæœ€åè°ƒç”¨ start() æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;type&#34;&gt;CallableTask&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;task&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;CallableTask&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;FutureTask&amp;lt;String&amp;gt; futureTask = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;FutureTask&lt;/span&gt;&amp;lt;&amp;gt;(task);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;type&#34;&gt;Thread&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;thread&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Thread&lt;/span&gt;(futureTask);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;thread.start();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;4. çº¿ç¨‹æ± åˆ›å»º&lt;/strong&gt;ï¼šå®ç° Runnable æˆ– Callable æ¥å£åï¼Œæäº¤ç»™çº¿ç¨‹æ± æ‰§è¡Œã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;4-çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿ&#34;&gt;&lt;a href=&#34;#4-çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;4. çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿ&#34;&gt;&lt;/a&gt;4. çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿ&lt;/h3&gt;&lt;p&gt;Threadç±»ä¸­æœ‰ä¸€ä¸ªæšä¸¾ç±»Stateï¼Œä¸€å…±6ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–°å»º(NEW)&lt;/li&gt;
&lt;li&gt;å¯è¿è¡Œ(RUNNABLE)&lt;/li&gt;
&lt;li&gt;é˜»å¡(BLOCKED)&lt;/li&gt;
&lt;li&gt;ç­‰å¾…ï¼ˆWAITINGï¼‰&lt;/li&gt;
&lt;li&gt;æ—¶é—´ç­‰å¾…(TIMED_WAITING)&lt;/li&gt;
&lt;li&gt;ç»ˆæ­¢(TERMINATED)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;çŠ¶æ€è½¬æ¢ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºçº¿ç¨‹å¯¹è±¡æ˜¯æ–°å»ºçŠ¶æ€&lt;/li&gt;
&lt;li&gt;è°ƒç”¨äº†start()æ–¹æ³•è½¬å˜ä¸ºå¯æ‰§è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹è·å–åˆ°äº†CPUçš„æ‰§è¡Œæƒï¼Œæ‰§è¡Œç»“æŸæ˜¯ç»ˆæ­¢çŠ¶æ€&lt;/li&gt;
&lt;li&gt;åœ¨å¯æ‰§è¡ŒçŠ¶æ€çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ²¡æœ‰è·å–CPUçš„æ‰§è¡Œæƒï¼Œå¯èƒ½ä¼šåˆ‡æ¢å…¶ä»–çŠ¶æ€&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰è·å–é”(synchronizedæˆ–lock)è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œè·å¾—é”å†åˆ‡æ¢ä¸ºå¯æ‰§è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;li&gt;å¦‚æœçº¿ç¨‹è°ƒç”¨äº†wait()æ–¹æ³•è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨notify(å”¤é†’åå¯åˆ‡æ¢ä¸ºå¯æ‰§è¡ŒçŠ¶æ€)&lt;/li&gt;
&lt;li&gt;å¦‚æœçº¿ç¨‹è°ƒç”¨äº†sleep(50)æ–¹æ³•ï¼Œè¿›å…¥è®¡æ—¶ç­‰å¾…çŠ¶æ€ï¼Œåˆ°æ—¶é—´åå¯åˆ‡æ¢ä¸ºå¯æ‰§è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;5-åœ¨javaä¸­waitå’Œsleepæ–¹æ³•çš„ä¸åŒ&#34;&gt;&lt;a href=&#34;#5-åœ¨javaä¸­waitå’Œsleepæ–¹æ³•çš„ä¸åŒ&#34; class=&#34;headerlink&#34; title=&#34;5. åœ¨javaä¸­waitå’Œsleepæ–¹æ³•çš„ä¸åŒ&#34;&gt;&lt;/a&gt;5. åœ¨javaä¸­waitå’Œsleepæ–¹æ³•çš„ä¸åŒ&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;éƒ½èƒ½è®©çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œå¹¶ä¸”éƒ½å¯ä»¥ä¼ ä¸€ä¸ªæ—¶é—´å‚æ•°ç­‰å¾…ç›¸åº”æ¯«ç§’æ•°é†’æ¥ï¼Œä¹Ÿéƒ½èƒ½è¢«æ‰“æ–­å”¤é†’ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;sleepæ–¹æ³•&lt;/strong&gt;æ˜¯Threadç±»çš„é™æ€æ–¹æ³•ï¼Œè€Œ&lt;strong&gt;waitæ–¹æ³•&lt;/strong&gt;æ˜¯Objectç±»çš„æˆå‘˜æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;waitæ–¹æ³•å¯ä»¥è¢«notifyæ–¹æ³•å”¤é†’ï¼Œå¦‚æœæ²¡ä¼ æ—¶é—´å‚æ•°ä¹Ÿæ²¡è¢«å”¤é†’å°±ä¸€ç›´ç­‰å¾…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é”ä¸åŒ&lt;/strong&gt;ï¼š&lt;ul&gt;
&lt;li&gt;waitæ–¹æ³•çš„è°ƒç”¨å¿…é¡»å…ˆè·å–waitå¯¹è±¡çš„é”ï¼Œwaitæ–¹æ³•æ‰§è¡Œåä¼šé‡Šæ”¾å¯¹è±¡é”ï¼Œå…è®¸å…¶å®ƒçº¿ç¨‹è·å¾—è¯¥å¯¹è±¡é”ï¼ˆæˆ‘æ”¾å¼ƒcpuï¼Œä½†ä½ ä»¬è¿˜å¯ä»¥ç”¨ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;sleepè°ƒç”¨ä¸ç”¨è·å–é”ï¼Œsleepå¦‚æœåœ¨synchronizedä»£ç å—ä¸­æ‰§è¡Œï¼Œå¹¶ä¸ä¼šé‡Šæ”¾å¯¹è±¡é”ï¼ˆæˆ‘æ”¾å¼ƒcpuï¼Œä½ ä»¬ä¹Ÿç”¨ä¸äº†ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;6-å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹&#34;&gt;&lt;a href=&#34;#6-å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹&#34; class=&#34;headerlink&#34; title=&#34;6. å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹&#34;&gt;&lt;/a&gt;6. å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹&lt;/h3&gt;&lt;p&gt;ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½¿ç”¨é€€å‡ºæ ‡å¿—&lt;/strong&gt;ï¼Œä½¿çº¿ç¨‹æ­£å¸¸é€€å‡ºï¼Œä¹Ÿå°±æ˜¯å½“runæ–¹æ³•å®Œæˆåçº¿ç¨‹ç»ˆæ­¢ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;strong&gt;stopæ–¹æ³•å¼ºè¡Œç»ˆæ­¢&lt;/strong&gt;ï¼ˆä¸æ¨èï¼Œæ–¹æ³•å·²ä½œåºŸï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;strong&gt;interruptæ–¹æ³•&lt;/strong&gt;ä¸­æ–­çº¿ç¨‹ã€‚&lt;ul&gt;
&lt;li&gt;æ‰“æ–­é˜»å¡çš„çº¿ç¨‹ï¼ˆsleepï¼Œwaitï¼Œjoinï¼‰çš„çº¿ç¨‹ï¼Œçº¿ç¨‹ä¼šæŠ›å‡ºInterruptedExceptionå¼‚å¸¸ã€‚&lt;/li&gt;
&lt;li&gt;æ‰“æ–­æ­£å¸¸çš„çº¿ç¨‹ï¼Œå¯ä»¥æ ¹æ®æ‰“æ–­çŠ¶æ€æ¥æ ‡è®°æ˜¯å¦é€€å‡ºçº¿ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;7-çº¿ç¨‹ä¸­å¹¶å‘å®‰å…¨ï¼ˆé«˜é¢‘ï¼Œéš¾ç­”ï¼‰&#34;&gt;&lt;a href=&#34;#7-çº¿ç¨‹ä¸­å¹¶å‘å®‰å…¨ï¼ˆé«˜é¢‘ï¼Œéš¾ç­”ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;7. çº¿ç¨‹ä¸­å¹¶å‘å®‰å…¨ï¼ˆé«˜é¢‘ï¼Œéš¾ç­”ï¼‰&#34;&gt;&lt;/a&gt;7. çº¿ç¨‹ä¸­å¹¶å‘å®‰å…¨ï¼ˆé«˜é¢‘ï¼Œéš¾ç­”ï¼‰&lt;/h3&gt;&lt;h4 id=&#34;synchronizedå…³é”®å­—çš„åº•å±‚åŸç†&#34;&gt;&lt;a href=&#34;#synchronizedå…³é”®å­—çš„åº•å±‚åŸç†&#34; class=&#34;headerlink&#34; title=&#34;synchronizedå…³é”®å­—çš„åº•å±‚åŸç†&#34;&gt;&lt;/a&gt;synchronizedå…³é”®å­—çš„åº•å±‚åŸç†&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;åœ¨jdk1.6ä¹‹å‰ï¼Œ&lt;code&gt;synchronized&lt;/code&gt;è¢«ç§°ä¸º&lt;strong&gt;é‡é‡çº§é”&lt;/strong&gt;ã€‚åº•å±‚æ ¸å¿ƒæ˜¯&lt;strong&gt;monitorï¼ˆç›‘è§†å™¨ï¼‰&lt;/strong&gt;ï¼Œå®ƒæ˜¯ JVM å±‚é¢çš„å¯¹è±¡ï¼Œæ¯ä¸ª Java å¯¹è±¡éƒ½ä¼šå…³è”ä¸€ä¸ª monitorã€‚å½“çº¿ç¨‹è·å– synchronized é”æ—¶ï¼Œæœ¬è´¨æ˜¯è·å–å¯¹è±¡å…³è”çš„ monitor æ‰€æœ‰æƒï¼Œå…¶æ ¸å¿ƒå±æ€§æ˜¯ownerã€entrylistã€waitsetã€‚&lt;/li&gt;
&lt;li&gt;ownerå…³è”å½“å‰æŒæœ‰é”çš„çº¿ç¨‹ï¼ˆåŒä¸€æ—¶åˆ»ä»…ä¸€ä¸ªçº¿ç¨‹å¯æŒæœ‰ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;entrylistå…³è”ç­‰å¾…è·å–é”çš„çº¿ç¨‹é˜Ÿåˆ—ï¼ˆè¿™äº›çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;waitsetå…³è”çš„è°ƒç”¨&lt;code&gt;wait()&lt;/code&gt;åè¿›å…¥ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹é˜Ÿåˆ—ï¼ˆéœ€è¢«&lt;code&gt;notify/notifyAll&lt;/code&gt;å”¤é†’åæ‰ä¼šè¿›å…¥ entryListï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;é”å‡çº§ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;jdk1.6ä¸­ï¼Œä¸ºäº†å‡å°‘è·å¾—é”å’Œé‡Šæ”¾é”å¸¦æ¥çš„æ€§èƒ½å¼€é”€ï¼Œå¼•å…¥äº†&lt;strong&gt;åå‘é”&lt;/strong&gt;å’Œ&lt;strong&gt;è½»é‡çº§é”&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åå‘é”&lt;/strong&gt;ï¼šåœ¨å¯¹è±¡å¤´çš„&lt;code&gt;Mark Word&lt;/code&gt;ä¸­è®°å½•è·å–é”çš„çº¿ç¨‹ IDï¼Œåç»­è¯¥çº¿ç¨‹å†æ¬¡è·å–é”æ—¶ï¼Œåªéœ€åˆ¤æ–­ ID æ˜¯å¦åœ¨Mark Wordï¼Œæ— éœ€ CAS æ“ä½œã€‚é€‚ç”¨äºé”é•¿æœŸè¢«åŒä¸€çº¿ç¨‹æŒæœ‰ï¼Œæ— ç«äº‰çš„åœºæ™¯ã€‚å½“å…¶ä»–çº¿ç¨‹å°è¯•è·å–é”æ—¶ï¼Œåå‘é”ä¼šè¢«æ’¤é”€ï¼Œé€šè¿‡ CAS ç«äº‰å‡çº§ä¸ºè½»é‡çº§é”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è½»é‡çº§é”&lt;/strong&gt;ï¼šé€šè¿‡CASæ“ä½œåœ¨å½“å‰çº¿ç¨‹æ ˆå¸§ä¸­åˆ›å»ºâ€œé”è®°å½•ï¼ˆLock Recordï¼‰â€ï¼Œå°†&lt;code&gt;Mark Word&lt;/code&gt;å¤åˆ¶åˆ°é”è®°å½•ä¸­ï¼Œå†å°è¯•ç”¨CASå°†&lt;code&gt;Mark Word&lt;/code&gt;æ›¿æ¢ä¸ºæŒ‡å‘é”è®°å½•çš„æŒ‡é’ˆï¼š&lt;ul&gt;
&lt;li&gt;æˆåŠŸï¼šè·å–è½»é‡çº§é”ï¼Œ&lt;code&gt;Mark Word&lt;/code&gt;æ ‡å¿—ä½ä¸º&lt;code&gt;00&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¤±è´¥ï¼šè¿›å…¥â€œè‡ªæ—‹ä¼˜åŒ–â€ï¼ˆçº¿ç¨‹ä¸é˜»å¡ï¼Œå¾ªç¯å°è¯•è·å–é”ï¼Œé¿å…å†…æ ¸æ€åˆ‡æ¢ï¼‰ã€‚&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è‡ªæ—‹ä¼˜åŒ–&lt;/strong&gt;ï¼šè‹¥è‡ªæ—‹ä¸€å®šæ¬¡æ•°ï¼ˆé»˜è®¤10æ¬¡ï¼‰åä»å¤±è´¥ï¼Œå‡çº§ä¸ºé‡é‡çº§é”ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‡é‡çº§é”&lt;/strong&gt;ï¼šåº•å±‚ä½¿ç”¨çš„Monitorå®ç°ï¼ŒMonitorä¾èµ–æ“ä½œç³»ç»Ÿäº’æ–¥é‡ï¼ˆMutexï¼‰å®ç°ï¼Œæ‰€ä»¥ä¹Ÿå«äº’æ–¥é”ï¼Œæ¶‰åŠåˆ°äº†ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åˆ‡æ¢ï¼Œå¼€é”€å·¨å¤§ï¼Œé€‚ç”¨äºé”ç«äº‰æ¿€çƒˆæˆ–æŒæœ‰é”æ—¶é—´é•¿çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;8-ä½ è°ˆè°ˆJMM-Javaå†…å­˜æ¨¡å‹ï¼‰&#34;&gt;&lt;a href=&#34;#8-ä½ è°ˆè°ˆJMM-Javaå†…å­˜æ¨¡å‹ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;8. ä½ è°ˆè°ˆJMM(Javaå†…å­˜æ¨¡å‹ï¼‰&#34;&gt;&lt;/a&gt;8. ä½ è°ˆè°ˆJMM(Javaå†…å­˜æ¨¡å‹ï¼‰&lt;/h3&gt;&lt;p&gt;JMMï¼ˆJava å†…å­˜æ¨¡å‹ï¼‰æ˜¯ JVM å®šä¹‰çš„&lt;strong&gt;å…±äº«å†…å­˜ä¸­å¤šçº¿ç¨‹è¯»å†™æ“ä½œè§„èŒƒ&lt;/strong&gt;ï¼Œä¿è¯æŒ‡ä»¤æ­£ç¡®æ€§ï¼Œå®ƒæŠŠå†…å­˜åˆ†ä¸ºä¸»å†…å­˜å’Œæœ¬åœ°å†…å­˜ã€‚ä¸»å†…å­˜å…¬å…±åŒºåŸŸå­˜å‚¨å…±äº«å˜é‡ï¼Œæœ¬åœ°å†…å­˜æ˜¯çº¿ç¨‹ç§æœ‰å­˜å‚¨å…±äº«å˜é‡çš„å‰¯æœ¬ï¼Œçº¿ç¨‹é—´éš”ç¦»ï¼Œäº¤äº’é€šè¿‡ä¸»å†…å­˜ã€‚å½“æŸä¸ªçº¿ç¨‹æ›´æ”¹äº†æœ¬åœ°å†…å­˜ä¸­å…±äº«å˜é‡çš„å‰¯æœ¬ï¼Œjvmä¼šå†™å…¥ä¸»å†…å­˜è®©æ‰€æœ‰çº¿ç¨‹å¯è§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;9-CAS-ä½ çŸ¥é“å—&#34;&gt;&lt;a href=&#34;#9-CAS-ä½ çŸ¥é“å—&#34; class=&#34;headerlink&#34; title=&#34;9. CAS ä½ çŸ¥é“å—&#34;&gt;&lt;/a&gt;9. CAS ä½ çŸ¥é“å—&lt;/h3&gt;&lt;p&gt;CASçš„å…¨ç§°æ˜¯ï¼šCompareAndSwap(æ¯”è¾ƒå†äº¤æ¢);å®ƒä½“ç°çš„ä¸€ç§&lt;strong&gt;ä¹è§‚é”&lt;/strong&gt;çš„æ€æƒ³ï¼Œåœ¨æ— é”çŠ¶æ€ä¸‹ä¿è¯çº¿ç¨‹æ“ä½œæ•°æ®çš„&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;ã€‚CASä½¿ç”¨åˆ°çš„åœ°æ–¹å¾ˆå¤šï¼šAQSæ¡†æ¶ã€AtomicXXXç±»ï¼Œåœ¨æ“ä½œå…±äº«å˜é‡çš„æ—¶å€™ä½¿ç”¨çš„&lt;strong&gt;è‡ªæ—‹é”&lt;/strong&gt;æ•ˆç‡ä¸Šæ›´é«˜ä¸€äº›ï¼ŒCASçš„åº•å±‚æ˜¯è°ƒç”¨çš„&lt;strong&gt;Unsafeç±»&lt;/strong&gt;ä¸­çš„æœ¬åœ°æ–¹æ³•ç”±C&amp;#x2F;C++å®ç°ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;10-ä¹è§‚é”å’Œæ‚²è§‚é”çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;a href=&#34;#10-ä¹è§‚é”å’Œæ‚²è§‚é”çš„åŒºåˆ«ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;10. ä¹è§‚é”å’Œæ‚²è§‚é”çš„åŒºåˆ«ï¼Ÿ&#34;&gt;&lt;/a&gt;10. ä¹è§‚é”å’Œæ‚²è§‚é”çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¹è§‚é”&lt;/strong&gt;ï¼šæ“ä½œæ•°æ®æ—¶éå¸¸ä¹è§‚ï¼Œè®¤ä¸ºåˆ«çš„çº¿ç¨‹ä¸ä¼šåŒæ—¶ä¿®æ”¹æ•°æ®ï¼Œå› æ­¤ä¸ä¼šä¸Šé”ã€‚é€šå¸¸åœ¨æ‰§è¡Œæ›´æ–°æ—¶ï¼Œä¼šåˆ¤æ–­åœ¨æ­¤æœŸé—´æ•°æ®æ˜¯å¦è¢«åˆ«äººä¿®æ”¹ï¼Œè‹¥æœªä¿®æ”¹åˆ™æ‰§è¡Œæ“ä½œï¼Œå¦åˆ™æ”¾å¼ƒæ“ä½œã€‚ä¸»è¦å®ç°æ–¹å¼æœ‰ CAS æœºåˆ¶å’Œç‰ˆæœ¬å·æœºåˆ¶ï¼Œé€‚ç”¨äº&lt;strong&gt;ç«äº‰ä¸æ¿€çƒˆã€è¯»å¤šå†™å°‘&lt;/strong&gt;çš„åœºæ™¯ï¼Œå¦‚ Java ä¸­&lt;code&gt;AtomicInteger&lt;/code&gt;ç­‰åŸå­ç±»å°±è¿ç”¨äº†ä¹è§‚é”æ€æƒ³ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‚²è§‚é”&lt;/strong&gt;ï¼šæ“ä½œæ•°æ®æ—¶æ¯”è¾ƒæ‚²è§‚ï¼Œè®¤ä¸ºå…¶ä»–çº¿ç¨‹ä¼šåŒæ—¶ä¿®æ”¹æ•°æ®ï¼Œæ‰€ä»¥åœ¨æ“ä½œæ•°æ®å‰ç›´æ¥æŠŠæ•°æ®é”ä½ï¼Œç›´åˆ°æ“ä½œå®Œæˆåæ‰é‡Šæ”¾é”ï¼Œä¸Šé”æœŸé—´å…¶ä»–çº¿ç¨‹ä¸èƒ½ä¿®æ”¹æ•°æ®ã€‚Java ä¸­çš„&lt;code&gt;synchronized&lt;/code&gt;å…³é”®å­—å’Œ&lt;code&gt;ReentrantLock&lt;/code&gt;ç­‰éƒ½æ˜¯æ‚²è§‚é”çš„å®ç°ï¼Œé€‚åˆ&lt;strong&gt;å¹¶å‘å†™å…¥å¤šã€ç«äº‰æ¿€çƒˆ&lt;/strong&gt;çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;11-ä»€ä¹ˆæ˜¯AQSï¼Ÿ&#34;&gt;&lt;a href=&#34;#11-ä»€ä¹ˆæ˜¯AQSï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;11. ä»€ä¹ˆæ˜¯AQSï¼Ÿ&#34;&gt;&lt;/a&gt;11. ä»€ä¹ˆæ˜¯AQSï¼Ÿ&lt;/h3&gt;&lt;p&gt;AQS æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸€ä¸ªå…±äº«å˜é‡ state å’Œä¸€ä¸ªçº¿ç¨‹ç­‰å¾…é˜Ÿåˆ—ï¼Œä¸º ReentrantLock ç­‰ç±»æä¾›åº•å±‚æ”¯æŒã€‚å¦‚æœè¢«è¯·æ±‚çš„&lt;strong&gt;å…±äº«èµ„æº&lt;/strong&gt;å¤„äºç©ºé—²çŠ¶æ€ï¼Œå½“å‰çº¿ç¨‹å°±èƒ½æˆåŠŸ&lt;strong&gt;è·å–é”&lt;/strong&gt;ï¼›å¦åˆ™ï¼Œå°†å½“å‰çº¿ç¨‹åŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼Œå½“å…¶ä»–çº¿ç¨‹é‡Šæ”¾é”æ—¶ï¼Œä»ç­‰å¾…é˜Ÿåˆ—ä¸­æŒ‘é€‰ä¸€ä¸ªçº¿ç¨‹ï¼ŒæŠŠé”åˆ†é…ç»™å®ƒã€‚&lt;/p&gt;
&lt;p&gt;AQS çš„æºç é˜…è¯»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çŠ¶æ€ state ç”± volatile å˜é‡ä¿®é¥°ï¼Œç”¨äºä¿è¯å¤šçº¿ç¨‹ä¹‹é—´çš„å¯è§æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥é˜Ÿåˆ—&lt;/strong&gt;ç”±å†…éƒ¨å®šä¹‰çš„ Node ç±»å®ç°ï¼Œæ¯ä¸ª Node åŒ…å«äº†ç­‰å¾…çŠ¶æ€ã€å‰åèŠ‚ç‚¹ã€çº¿ç¨‹çš„å¼•ç”¨ç­‰ï¼Œæ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„åŒå‘é“¾è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;AQS æ”¯æŒä¸¤ç§åŒæ­¥æ–¹å¼ï¼š&lt;ul&gt;
&lt;li&gt;ç‹¬å æ¨¡å¼ä¸‹ï¼šæ¯æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”ï¼Œä¾‹å¦‚ ReentrantLockã€‚&lt;/li&gt;
&lt;li&gt;å…±äº«æ¨¡å¼ä¸‹ï¼šå¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è·å–é”ï¼Œä¾‹å¦‚ Semaphore å’Œ CountDownLatchã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;acquire ï¼šè·å–é”ï¼Œå¤±è´¥è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ï¼›&lt;/li&gt;
&lt;li&gt;release ï¼šé‡Šæ”¾é”ï¼Œå”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;acquireShared ï¼šå…±äº«æ¨¡å¼è·å–é”&lt;/li&gt;
&lt;li&gt;releaseShared ï¼šå…±äº«æ¨¡å¼é‡Šæ”¾é”ã€‚&lt;/li&gt;
&lt;li&gt;AQS ä½¿ç”¨ä¸€ä¸ª CLH é˜Ÿåˆ—æ¥ç»´æŠ¤ç­‰å¾…çº¿ç¨‹ï¼Œæ˜¯ä¸€ç§åŸºäºé“¾è¡¨çš„è‡ªæ—‹é”ã€‚å½“ä¸€ä¸ªçº¿ç¨‹å°è¯•è·å–é”å¤±è´¥åï¼Œä¼šè¢«æ·»åŠ åˆ°é˜Ÿåˆ—çš„å°¾éƒ¨å¹¶è‡ªæ—‹ï¼Œç­‰å¾…å‰ä¸€ä¸ªèŠ‚ç‚¹çš„çº¿ç¨‹é‡Šæ”¾é”ã€‚ä¼˜ç‚¹æ˜¯ï¼Œå‡è®¾æœ‰ 100 ä¸ªçº¿ç¨‹åœ¨ç­‰å¾…é”ï¼Œé”é‡Šæ”¾ä¹‹åï¼Œåªä¼šé€šçŸ¥é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹å»ç«äº‰é”ã€‚é¿å…åŒæ—¶å”¤é†’å¤§é‡çº¿ç¨‹ï¼Œæµªè´¹ CPU èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;12-ReentrantLockçš„å®ç°åŸç†&#34;&gt;&lt;a href=&#34;#12-ReentrantLockçš„å®ç°åŸç†&#34; class=&#34;headerlink&#34; title=&#34;12. ReentrantLockçš„å®ç°åŸç†&#34;&gt;&lt;/a&gt;12. ReentrantLockçš„å®ç°åŸç†&lt;/h3&gt;&lt;p&gt;ReentrantLockè¡¨ç¤ºå¯é‡å…¥é”ï¼Œè°ƒç”¨lockæ–¹æ³•è·å–äº†é”ä¹‹åï¼Œå†æ¬¡è°ƒç”¨lockï¼Œæ˜¯ä¸ä¼šå†é˜»å¡ã€‚ReentrantLockä¸»è¦åˆ©ç”¨CAS+AQSé˜Ÿåˆ—æ¥å®ç°ï¼Œæ”¯æŒå…¬å¹³é”å’Œéå…¬å¹³é”ï¼Œåœ¨æä¾›çš„æ„é€ å™¨çš„ä¸­æ— å‚é»˜è®¤æ˜¯éå…¬å¹³é”ï¼Œä¹Ÿå¯ä»¥ä¼ å‚è®¾ç½®ä¸ºå…¬å¹³é”ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;13-synchronized-å’Œ-ReentrantLock-çš„åŒºåˆ«&#34;&gt;&lt;a href=&#34;#13-synchronized-å’Œ-ReentrantLock-çš„åŒºåˆ«&#34; class=&#34;headerlink&#34; title=&#34;13. synchronized å’Œ ReentrantLock çš„åŒºåˆ«&#34;&gt;&lt;/a&gt;13. synchronized å’Œ ReentrantLock çš„åŒºåˆ«&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;synchronized å¯ä»¥è‡ªåŠ¨åŠ é”å’Œè§£é”ï¼ŒReentrantLock éœ€è¦æ‰‹åŠ¨ lock() å’Œ unlock()ã€‚&lt;/li&gt;
&lt;li&gt;ReentrantLock å¯ä»¥å®ç°å¤šè·¯é€‰æ‹©é€šçŸ¥ï¼Œç»‘å®šå¤šä¸ª Conditionï¼Œè€Œ synchronized åªèƒ½é€šè¿‡ wait å’Œ notify å”¤é†’ï¼Œå±äºå•è·¯é€šçŸ¥ï¼›&lt;/li&gt;
&lt;li&gt;synchronized å¯ä»¥åœ¨æ–¹æ³•å’Œä»£ç å—ä¸ŠåŠ é”ï¼ŒReentrantLock åªèƒ½åœ¨ä»£ç å—ä¸ŠåŠ é”ï¼Œä½†å¯ä»¥æŒ‡å®šæ˜¯å…¬å¹³é”è¿˜æ˜¯éå…¬å¹³é”ã€‚&lt;/li&gt;
&lt;li&gt;å¹¶å‘é‡å¤§çš„æƒ…å†µä¸‹ï¼Œæ¨èä½¿ç”¨ ReentrantLockï¼Œå› ä¸ºï¼š&lt;ul&gt;
&lt;li&gt;æä¾›äº†è¶…æ—¶å’Œå…¬å¹³é”ç­‰ç‰¹æ€§ï¼Œå¯ä»¥åº”å¯¹æ›´å¤æ‚çš„å¹¶å‘åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;å…è®¸æ›´ç»†ç²’åº¦çš„é”æ§åˆ¶ï¼Œèƒ½æœ‰æ•ˆå‡å°‘é”ç«äº‰ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ¡ä»¶å˜é‡ Conditionï¼Œå¯ä»¥å®ç°æ¯” synchronized æ›´å‹å¥½çš„çº¿ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;14-Lock-äº†è§£å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#14-Lock-äº†è§£å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;14. Lock äº†è§£å—ï¼Ÿ&#34;&gt;&lt;/a&gt;14. Lock äº†è§£å—ï¼Ÿ&lt;/h3&gt;&lt;p&gt;Lock æ˜¯ JUC ä¸­çš„ä¸€ä¸ªæ¥å£ï¼Œæœ€å¸¸ç”¨çš„å®ç°ç±»åŒ…æ‹¬å¯é‡å…¥é” ReentrantLockã€è¯»å†™é” ReentrantReadWriteLock ç­‰ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;15-ReentrantLock-çš„-lock-æ–¹æ³•å®ç°é€»è¾‘äº†è§£å—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#15-ReentrantLock-çš„-lock-æ–¹æ³•å®ç°é€»è¾‘äº†è§£å—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;15. ReentrantLock çš„ lock() æ–¹æ³•å®ç°é€»è¾‘äº†è§£å—ï¼Ÿ&#34;&gt;&lt;/a&gt;15. ReentrantLock çš„ lock() æ–¹æ³•å®ç°é€»è¾‘äº†è§£å—ï¼Ÿ&lt;/h3&gt;&lt;p&gt;lock æ–¹æ³•çš„å…·ä½“å®ç°ç”± ReentrantLock å†…éƒ¨çš„ Sync ç±»æ¥å®ç°ï¼Œæ¶‰åŠåˆ°çº¿ç¨‹çš„è‡ªæ—‹ã€é˜»å¡é˜Ÿåˆ—ã€CASã€AQS ç­‰ã€‚lock æ–¹æ³•ä¼šé¦–å…ˆå°è¯•é€šè¿‡ CAS æ¥è·å–é”ã€‚å¦‚æœå½“å‰é”æ²¡æœ‰è¢«æŒæœ‰ï¼Œä¼šå°†é”çŠ¶æ€è®¾ç½®ä¸º 1ï¼Œè¡¨ç¤ºé”å·²è¢«å ç”¨ã€‚å¦åˆ™ï¼Œä¼šå°†å½“å‰çº¿ç¨‹åŠ å…¥åˆ° AQS çš„ç­‰å¾…é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;16-è¯·è°ˆè°ˆä½ å¯¹volatileçš„ç†è§£&#34;&gt;&lt;a href=&#34;#16-è¯·è°ˆè°ˆä½ å¯¹volatileçš„ç†è§£&#34; class=&#34;headerlink&#34; title=&#34;16. è¯·è°ˆè°ˆä½ å¯¹volatileçš„ç†è§£&#34;&gt;&lt;/a&gt;16. è¯·è°ˆè°ˆä½ å¯¹volatileçš„ç†è§£&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;JVMä¸­çš„JITå³æ—¶ç¼–è¯‘å™¨ä¼šå¯¹æŒ‡ä»¤è¿›è¡Œä¼˜åŒ–é‡æ’åºï¼Œè¿™å¯èƒ½å¯¼è‡´ä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹å…¶ä»–çº¿ç¨‹ä¸å¯è§ï¼Œç”¨volatileä¿®é¥°å…±äº«å˜é‡åï¼Œèƒ½å¤Ÿé˜²æ­¢ç¼–è¯‘å™¨ç­‰ä¼˜åŒ–å‘ç”Ÿï¼Œä¿è¯å…±äº«å˜é‡çš„å¯è§æ€§ã€‚&lt;/li&gt;
&lt;li&gt;ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åºï¼šç”¨volatileä¿®é¥°å…±äº«å˜é‡ä¼šåœ¨è¯»ã€å†™å…±äº«å˜é‡æ—¶åŠ å…¥ä¸åŒçš„å±éšœï¼Œé˜»æ­¢å…¶ä»–è¯»å†™æ“ä½œè¶Šè¿‡å±éšœï¼Œä»è€Œè¾¾åˆ°é˜»æ­¢é‡æ’åºçš„æ•ˆæœã€‚&lt;/li&gt;
&lt;li&gt;volatileä½¿ç”¨æŠ€å·§ï¼šå†™å˜é‡è®©volatileä¿®é¥°çš„å˜é‡çš„åœ¨ä»£ç æœ€åä½ç½®ï¼Œè¯»å˜é‡è®©volatileä¿®é¥°çš„å˜é‡çš„åœ¨ä»£ç æœ€å¼€å§‹ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;17-èŠä¸€ä¸‹ConcurrentHashMap-ï¼Ÿï¼ˆé«˜é¢‘å¾ˆé‡è¦ï¼‰&#34;&gt;&lt;a href=&#34;#17-èŠä¸€ä¸‹ConcurrentHashMap-ï¼Ÿï¼ˆé«˜é¢‘å¾ˆé‡è¦ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;17. èŠä¸€ä¸‹ConcurrentHashMap ï¼Ÿï¼ˆé«˜é¢‘å¾ˆé‡è¦ï¼‰&#34;&gt;&lt;/a&gt;17. èŠä¸€ä¸‹ConcurrentHashMap ï¼Ÿï¼ˆé«˜é¢‘å¾ˆé‡è¦ï¼‰&lt;/h3&gt;&lt;p&gt;ConcurrentHashMap æ˜¯ HashMap çš„çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDK 7 é‡‡ç”¨çš„æ˜¯åˆ†æ®µé”ï¼Œæ•´ä¸ª Map ä¼šè¢«åˆ†ä¸ºè‹¥å¹²æ®µï¼Œæ¯ä¸ªæ®µéƒ½å¯ä»¥ç‹¬ç«‹åŠ é”ï¼Œæ¯ä¸ªæ®µç±»ä¼¼ä¸€ä¸ª Hashtableï¼Œç»´æŠ¤ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„HashEntry å®ƒæ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨ã€‚æ®µç»§æ‰¿äº† ReentrantLockï¼Œæ‰€ä»¥æ¯ä¸ªæ®µéƒ½æ˜¯ä¸€ä¸ªå¯é‡å…¥é”ï¼Œä¸åŒçš„çº¿ç¨‹å¯ä»¥åŒæ—¶æ“ä½œä¸åŒçš„æ®µï¼Œä»è€Œå®ç°å¹¶å‘ã€‚&lt;/li&gt;
&lt;li&gt;JDK 8 ä½¿ç”¨äº†ä¸€ç§æ›´åŠ ç»†ç²’åº¦çš„é”â€”â€”æ¡¶é”ï¼Œå†é…åˆ CAS + synchronized ä»£ç å—æ§åˆ¶å¹¶å‘å†™å…¥ï¼Œä»¥æœ€å¤§ç¨‹åº¦å‡å°‘é”çš„ç«äº‰ã€‚å¯¹äºè¯»æ“ä½œï¼ŒConcurrentHashMap ä½¿ç”¨äº† volatile å˜é‡æ¥ä¿è¯å†…å­˜å¯è§æ€§ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºå†™æ“ä½œï¼ŒConcurrentHashMap ä¼˜å…ˆä½¿ç”¨ CAS å°è¯•æ’å…¥ï¼Œå¦‚æœæˆåŠŸå°±ç›´æ¥è¿”å›ï¼›å¦åˆ™ä½¿ç”¨ synchronized ä»£ç å—è¿›è¡ŒåŠ é”å¤„ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;JDK-7-ä¸­-ConcurrentHashMap-çš„-put-get-æµç¨‹&#34;&gt;&lt;a href=&#34;#JDK-7-ä¸­-ConcurrentHashMap-çš„-put-get-æµç¨‹&#34; class=&#34;headerlink&#34; title=&#34;JDK 7 ä¸­ ConcurrentHashMap çš„ put&amp;#x2F;get æµç¨‹&#34;&gt;&lt;/a&gt;JDK 7 ä¸­ ConcurrentHashMap çš„ put&amp;#x2F;get æµç¨‹&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;è®¡ç®— key çš„ hashï¼Œå®šä½åˆ°æ®µï¼Œæ®µå¦‚æœæ˜¯ç©ºå°±å…ˆåˆå§‹åŒ–ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ ReentrantLock è¿›è¡ŒåŠ é”ï¼Œå¦‚æœåŠ é”å¤±è´¥å°±è‡ªæ—‹ï¼Œè‡ªæ—‹è¶…è¿‡æ¬¡æ•°å°±é˜»å¡ï¼Œä¿è¯ä¸€å®šèƒ½è·å–åˆ°é”ï¼›&lt;/li&gt;
&lt;li&gt;éå†æ®µä¸­çš„é”®å€¼å¯¹ HashEntryï¼Œkey ç›¸åŒç›´æ¥æ›¿æ¢ï¼Œkey ä¸å­˜åœ¨å°±æ’å…¥ã€‚&lt;/li&gt;
&lt;li&gt;é‡Šæ”¾é”ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Getæ—¶å…ˆè®¡ç®— key çš„ hash æ‰¾åˆ°æ®µï¼Œå†éå†æ®µä¸­çš„é”®å€¼å¯¹ï¼Œæ‰¾åˆ°å°±ç›´æ¥è¿”å› valueã€‚&lt;br&gt;get ä¸ç”¨åŠ é”ï¼Œå› ä¸º value æ˜¯ volatile çš„ï¼Œæ‰€ä»¥çº¿ç¨‹è¯»å– value æ—¶ä¸ä¼šå‡ºç°å¯è§æ€§é—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;JDK-8-ä¸­-ConcurrentHashMap-çš„-put-get-æµç¨‹&#34;&gt;&lt;a href=&#34;#JDK-8-ä¸­-ConcurrentHashMap-çš„-put-get-æµç¨‹&#34; class=&#34;headerlink&#34; title=&#34;JDK 8 ä¸­ ConcurrentHashMap çš„ put&amp;#x2F;get æµç¨‹&#34;&gt;&lt;/a&gt;JDK 8 ä¸­ ConcurrentHashMap çš„ put&amp;#x2F;get æµç¨‹&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;JDK 8 ä¸­çš„ ConcurrentHashMap å–æ¶ˆäº†åˆ†æ®µé”ï¼Œé‡‡ç”¨ CAS + synchronized æ¥å®ç°æ›´ç»†ç²’åº¦çš„æ¡¶é”ï¼Œå¹¶ä¸”ä½¿ç”¨çº¢é»‘æ ‘æ¥ä¼˜åŒ–é“¾è¡¨ä»¥æé«˜å“ˆå¸Œå†²çªæ—¶çš„æŸ¥è¯¢æ•ˆç‡ï¼Œæ€§èƒ½æ¯” JDK 7 æœ‰äº†å¾ˆå¤§çš„æå‡ã€‚&lt;/li&gt;
&lt;li&gt;Put: ç¬¬ä¸€æ­¥ï¼Œè®¡ç®— key çš„ hashï¼Œä»¥ç¡®å®šæ¡¶åœ¨æ•°ç»„ä¸­çš„ä½ç½®ã€‚å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œé‡‡ç”¨ CAS çš„æ–¹å¼åˆå§‹åŒ–ï¼Œä»¥ç¡®ä¿åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨åˆå§‹åŒ–æ•°ç»„ã€‚ç¬¬äºŒæ­¥ï¼Œå¦‚æœæ¡¶ä¸ºç©ºï¼Œç›´æ¥ CAS æ’å…¥èŠ‚ç‚¹ã€‚å¦‚æœ CAS æ“ä½œå¤±è´¥ï¼Œä¼šé€€åŒ–ä¸º synchronized ä»£ç å—æ¥æ’å…¥èŠ‚ç‚¹ã€‚æ’å…¥çš„è¿‡ç¨‹ä¸­ä¼šåˆ¤æ–­æ¡¶çš„å“ˆå¸Œæ˜¯å¦å°äº 0ï¼ˆf.hash &amp;gt;&amp;#x3D; 0ï¼‰ï¼Œå°äº 0 è¯´æ˜æ˜¯çº¢é»‘æ ‘ï¼Œå¤§äºç­‰äº 0 è¯´æ˜æ˜¯é“¾è¡¨ã€‚ç¬¬ä¸‰æ­¥ï¼Œå¦‚æœé“¾è¡¨é•¿åº¦è¶…è¿‡ 8ï¼Œè½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚ç¬¬å››æ­¥ï¼Œåœ¨æ’å…¥æ–°èŠ‚ç‚¹åï¼Œä¼šè°ƒç”¨ addCount() æ–¹æ³•æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰©å®¹ã€‚&lt;/li&gt;
&lt;li&gt;Get: get ä¹Ÿæ˜¯é€šè¿‡ key çš„ hash è¿›è¡Œå®šä½ï¼Œå¦‚æœè¯¥ä½ç½®èŠ‚ç‚¹çš„å“ˆå¸ŒåŒ¹é…ä¸”é”®ç›¸ç­‰ï¼Œåˆ™ç›´æ¥è¿”å›å€¼ã€‚å¦‚æœèŠ‚ç‚¹çš„å“ˆå¸Œä¸ºè´Ÿæ•°ï¼Œè¯´æ˜æ˜¯ä¸ªç‰¹æ®ŠèŠ‚ç‚¹ï¼Œæ¯”å¦‚è¯´å¦‚æ ‘èŠ‚ç‚¹æˆ–è€…æ­£åœ¨è¿ç§»çš„èŠ‚ç‚¹ï¼Œå°±è°ƒç”¨findæ–¹æ³•æŸ¥æ‰¾ã€‚å¦åˆ™éå†é“¾è¡¨æŸ¥æ‰¾åŒ¹é…çš„é”®ã€‚å¦‚æœéƒ½æ²¡æ‰¾åˆ°ï¼Œè¿”å› nullã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id=&#34;é¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨-ConcurrentHashMap-çš„ï¼Ÿ&#34;&gt;&lt;a href=&#34;#é¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨-ConcurrentHashMap-çš„ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;é¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨ ConcurrentHashMap çš„ï¼Ÿ&#34;&gt;&lt;/a&gt;é¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨ ConcurrentHashMap çš„ï¼Ÿ&lt;/h4&gt;&lt;p&gt;åœ¨æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®ä¸­ï¼Œç”¨åˆ°äº† ConcurrentHashMapï¼Œæ¯”å¦‚è¯´åœ¨å¼‚æ­¥å·¥å…·ç±» AsyncUtil ä¸­ï¼Œä½¿ç”¨äº† ConcurrentHashMap æ¥å­˜å‚¨ä»»åŠ¡çš„åç§°å’Œå®ƒä»¬çš„è¿è¡Œæ—¶é—´ï¼Œä»¥ä¾¿è§‚å¯Ÿå’Œåˆ†æä»»åŠ¡çš„æ‰§è¡Œæƒ…å†µã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ConcurrentHashMap-æ€ä¹ˆä¿è¯å¯è§æ€§ï¼Ÿ&#34;&gt;&lt;a href=&#34;#ConcurrentHashMap-æ€ä¹ˆä¿è¯å¯è§æ€§ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ConcurrentHashMap æ€ä¹ˆä¿è¯å¯è§æ€§ï¼Ÿ&#34;&gt;&lt;/a&gt;ConcurrentHashMap æ€ä¹ˆä¿è¯å¯è§æ€§ï¼Ÿ&lt;/h4&gt;&lt;p&gt;ConcurrentHashMap ä¸­çš„ Node èŠ‚ç‚¹ä¸­ï¼Œvalue å’Œ next éƒ½æ˜¯ volatile çš„ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯å¯¹ value æˆ– next çš„æ›´æ–°ä¼šè¢«å…¶ä»–çº¿ç¨‹ç«‹å³çœ‹åˆ°ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;ä¸ºä»€ä¹ˆ-ConcurrentHashMap-æ¯”-Hashtable-æ•ˆç‡é«˜ï¼Ÿ&#34;&gt;&lt;a href=&#34;#ä¸ºä»€ä¹ˆ-ConcurrentHashMap-æ¯”-Hashtable-æ•ˆç‡é«˜ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ä¸ºä»€ä¹ˆ ConcurrentHashMap æ¯” Hashtable æ•ˆç‡é«˜ï¼Ÿ&#34;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆ ConcurrentHashMap æ¯” Hashtable æ•ˆç‡é«˜ï¼Ÿ&lt;/h4&gt;&lt;p&gt;Hashtable åœ¨ä»»ä½•æ—¶åˆ»åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®æ•´ä¸ª Mapï¼Œæ˜¯é€šè¿‡å¯¹æ•´ä¸ª Map åŠ é”æ¥å®ç°çº¿ç¨‹å®‰å…¨çš„ã€‚æ¯”å¦‚ get å’Œ put æ–¹æ³•ï¼Œæ˜¯ç›´æ¥åœ¨æ–¹æ³•ä¸ŠåŠ çš„ synchronized å…³é”®å­—ã€‚è€Œ ConcurrentHashMap åœ¨ JDK 8 ä¸­æ˜¯é‡‡ç”¨ CAS + synchronized å®ç°çš„ï¼Œä»…åœ¨å¿…è¦æ—¶åŠ é”ã€‚æ¯”å¦‚è¯´ put çš„æ—¶å€™ä¼˜å…ˆä½¿ç”¨ CAS å°è¯•æ’å…¥ï¼Œå¦‚æœå¤±è´¥å†ä½¿ç”¨ synchronized ä»£ç å—åŠ é”ã€‚get çš„æ—¶å€™æ˜¯å®Œå…¨æ— é”çš„ï¼Œå› ä¸º value æ˜¯ volatile å˜é‡ ä¿®é¥°çš„ï¼Œä¿è¯äº†å†…å­˜å¯è§æ€§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;CopyOnWriteArrayList-çš„å®ç°åŸç†&#34;&gt;&lt;a href=&#34;#CopyOnWriteArrayList-çš„å®ç°åŸç†&#34; class=&#34;headerlink&#34; title=&#34;CopyOnWriteArrayList çš„å®ç°åŸç†&#34;&gt;&lt;/a&gt;CopyOnWriteArrayList çš„å®ç°åŸç†&lt;/h4&gt;&lt;p&gt;CopyOnWriteArrayList æ˜¯ ArrayList çš„çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ï¼Œé€‚ç”¨äºè¯»å¤šå†™å°‘çš„åœºæ™¯ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å†™æ“ä½œæ—¶åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¿®æ”¹åå†æ›¿æ¢åŸæ•°ç»„ï¼Œè¿™æ ·å°±èƒ½å¤Ÿç¡®ä¿è¯»æ“ä½œæ— é”ï¼Œä»è€Œæé«˜å¹¶å‘æ€§èƒ½ã€‚å†…éƒ¨ä½¿ç”¨ volatile å˜é‡æ¥ä¿®é¥°æ•°ç»„ arrayï¼Œä»¥è¯»æ“ä½œçš„å†…å­˜å¯è§æ€§ã€‚å†™æ“ä½œçš„æ—¶å€™ä½¿ç”¨ ReentrantLock æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚ç¼ºç‚¹å°±æ˜¯å†™æ“ä½œçš„æ—¶å€™ä¼šå¤åˆ¶ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¦‚æœæ•°ç»„å¾ˆå¤§ï¼Œå†™æ“ä½œçš„æ€§èƒ½ä¼šå—åˆ°å½±å“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-é˜»å¡é˜Ÿåˆ—çš„å®ç°æ–¹å¼ï¼Ÿ&#34;&gt;&lt;a href=&#34;#1-é˜»å¡é˜Ÿåˆ—çš„å®ç°æ–¹å¼ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;1. é˜»å¡é˜Ÿåˆ—çš„å®ç°æ–¹å¼ï¼Ÿ&#34;&gt;&lt;/a&gt;1. é˜»å¡é˜Ÿåˆ—çš„å®ç°æ–¹å¼ï¼Ÿ&lt;/h3&gt;&lt;p&gt;é˜»å¡é˜Ÿåˆ—æ˜¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œæ”¯æŒé˜»å¡å¼çš„æ’å…¥å’Œåˆ é™¤ï¼Œå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œç”Ÿäº§è€…çº¿ç¨‹ä¼šè¢«é˜»å¡ç›´åˆ°æœ‰ç©ºé—´ï¼›å½“é˜Ÿåˆ—ç©ºæ—¶ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ä¼šè¢«é˜»å¡ç›´åˆ°æœ‰å…ƒç´ ã€‚è¿™ç§ç‰¹æ€§ä½¿å…¶éå¸¸é€‚åˆå®ç°ç”Ÿäº§è€… - æ¶ˆè´¹è€…æ¨¡å¼ã€‚ä¸»è¦å®ç°æ–¹å¼æœ‰3ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäº synchronized+wait&amp;#x2F;notify ï¼Œåˆ©ç”¨ Java å†…ç½®é”å’Œ Object ç±»çš„ç­‰å¾…æœºåˆ¶ã€‚é˜Ÿåˆ—çš„ put å’Œ take æ–¹æ³•ç”¨ synchronized ä¿®é¥°ï¼Œå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œç”Ÿäº§è€…é€šè¿‡ wait () è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼›å½“é˜Ÿåˆ—ç©ºæ—¶ï¼Œæ¶ˆè´¹è€…åŒæ · wait ()ã€‚æ“ä½œå®Œæˆåé€šè¿‡ notifyAll () å”¤é†’ç­‰å¾…çº¿ç¨‹ã€‚ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼Œç¼ºç‚¹æ˜¯åŠŸèƒ½å•ä¸€ï¼Œä¸æ”¯æŒå…¬å¹³æ€§ï¼Œä¸”åªæœ‰ä¸€ä¸ªæ¡ä»¶é˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;li&gt;åŸºäº ReentrantLock+Condition çš„å®ç°ã€‚è¿™æ˜¯ JDK æ ‡å‡†åº“ï¼ˆå¦‚ArrayBlockingQueueï¼‰é‡‡ç”¨çš„æ–¹å¼ï¼Œæ¯” synchronized æ›´çµæ´»ã€‚é€šè¿‡ ReentrantLock ä¿è¯çº¿ç¨‹å®‰å…¨ï¼ŒåŒæ—¶åˆ›å»ºä¸¤ä¸ª Condition å¯¹è±¡ï¼ˆnotEmpty å’Œ notFullï¼‰åˆ†åˆ«ç®¡ç†æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…çš„ç­‰å¾…é˜Ÿåˆ—ã€‚å½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œç”Ÿäº§è€…åœ¨ notFull ä¸Š await ()ï¼›å½“é˜Ÿåˆ—ç©ºæ—¶ï¼Œæ¶ˆè´¹è€…åœ¨ notEmpty ä¸Š await ()ã€‚æ“ä½œå®Œæˆåé’ˆå¯¹æ€§åœ° signal () å¯¹åº”æ¡ä»¶é˜Ÿåˆ—çš„çº¿ç¨‹ã€‚è¿™ç§æ–¹å¼æ”¯æŒå…¬å¹³é”é…ç½®ï¼Œä¸”èƒ½ç²¾ç¡®å”¤é†’ç‰¹å®šç±»å‹çš„çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;åŸºäº CAS æ“ä½œçš„éé˜»å¡å®ç°ã€‚åˆ©ç”¨åŸå­ç±»ï¼ˆå¦‚ AtomicReferenceï¼‰é€šè¿‡ CAS æ“ä½œå®ç°æ— é”åŒ–çš„å¹¶å‘æ§åˆ¶ï¼Œæ¯”å¦‚ ConcurrentLinkedQueueã€‚é€šè¿‡å¾ªç¯é‡è¯•çš„æ–¹å¼å¤„ç†å¹¶å‘å†²çªï¼Œé¿å…äº†çº¿ç¨‹é˜»å¡å’Œå”¤é†’çš„å¼€é”€ï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹æ€§èƒ½æ›´å¥½ï¼Œä½†å®ç°é€»è¾‘å¤æ‚ï¼Œé€‚åˆå¯¹æ€§èƒ½è¦æ±‚æé«˜çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™å‡ ç§å®ç°å„æœ‰ä¾§é‡ï¼šsynchronized æ–¹å¼é€‚åˆç®€å•åœºæ™¯ï¼›ReentrantLock+Condition å…¼é¡¾åŠŸèƒ½ä¸æ€§èƒ½ï¼Œæ˜¯ JDK æ ‡å‡†å®ç°çš„é¦–é€‰ï¼›CAS æ–¹å¼é€‚åˆé«˜å¹¶å‘ä½å»¶è¿Ÿçš„åœºæ™¯ã€‚å®é™…å¼€å‘ä¸­é€šå¸¸ç”¨ JDK æä¾›çš„é˜»å¡é˜Ÿåˆ—ï¼ˆå¦‚ ArrayBlockingQueueã€LinkedBlockingQueueï¼‰ï¼Œå®ƒä»¬å†…éƒ¨åŸºäº ReentrantLock+Condition å®ç°ï¼Œå·²ç»è¿‡å……åˆ†ä¼˜åŒ–å’Œæµ‹è¯•ï¼Œèƒ½æ»¡è¶³ç»å¤§å¤šæ•°å¹¶å‘åœºæ™¯çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;å¼€æ”¾æ€§é—®é¢˜&#34;&gt;&lt;a href=&#34;#å¼€æ”¾æ€§é—®é¢˜&#34; class=&#34;headerlink&#34; title=&#34;å¼€æ”¾æ€§é—®é¢˜&#34;&gt;&lt;/a&gt;å¼€æ”¾æ€§é—®é¢˜&lt;/h2&gt;&lt;h3 id=&#34;1-å…ˆåšä¸ªç®€å•çš„è‡ªæˆ‘ä»‹ç»å§ï¼&#34;&gt;&lt;a href=&#34;#1-å…ˆåšä¸ªç®€å•çš„è‡ªæˆ‘ä»‹ç»å§ï¼&#34; class=&#34;headerlink&#34; title=&#34;1. å…ˆåšä¸ªç®€å•çš„è‡ªæˆ‘ä»‹ç»å§ï¼&#34;&gt;&lt;/a&gt;1. å…ˆåšä¸ªç®€å•çš„è‡ªæˆ‘ä»‹ç»å§ï¼&lt;/h3&gt;&lt;p&gt;é¢è¯•å®˜æ‚¨å¥½ï¼æˆ‘å«éƒæ³½é£ï¼Œæ˜¯å“ˆå°”æ»¨å·¥ç¨‹å¤§å­¦è®¡ç®—æœºä¸“ä¸šçš„å­¦ç”Ÿï¼Œç°åœ¨åœ¨è¯»ç ”ä¸€ï¼Œåœ¨æ ¡æœŸé—´ï¼Œæˆ‘æˆç»©ä¸“ä¸šæ’åå‰10%ï¼Œå¤§å­¦æœŸé—´å‚åŠ äº†å¤šä¸ªç«èµ›å¹¶å–å¾—å¥–é¡¹ï¼Œé€šè¿‡äº†è‹±è¯­å››å…­çº§ã€‚æŠ€æœ¯æ–¹é¢ï¼Œå¤§ä¸€æœŸé—´æˆ‘å­¦ä¹ äº†è®¡ç®—æœºçš„åŸºç¡€çŸ¥è¯†ï¼Œåƒæ•°æ®ç»“æ„ï¼ŒC++å’ŒJAVAçš„åŸºç¡€è¯­æ³•ï¼Œå¤§äºŒä»¥åå¼€å§‹å­¦JavaæŠ€æœ¯æ ˆï¼Œæ¯”å¦‚Spring Bootã€MyBatis-Plusã€MySQLã€Redisã€RabbitMQç­‰ï¼Œåæ¥åˆåšäº†ä¸€äº›é¡¹ç›®ï¼Œå¾®æœåŠ¡æ¶æ„çš„Pm-hub,å¤§æ¨¡å‹åº”ç”¨å¼€å‘çš„æ´¾èªæ˜ã€‚ç”Ÿæ´»ä¸­æˆ‘æ˜¯ä¸€ä¸ªæ¯”è¾ƒç§¯æä¹è§‚çš„äººï¼Œæˆ‘éå¸¸æœŸå¾…èƒ½åœ¨è´µå…¬å¸çš„å¼€å‘å²—ä½ä¸­ï¼Œå°†æ‰€å­¦çš„æŠ€æœ¯åº”ç”¨äºå®é™…ä¸šåŠ¡ï¼Œæˆ‘çš„ä»‹ç»å®Œæ¯•ï¼Œè°¢è°¢ï¼&lt;/p&gt;
&lt;h3 id=&#34;2-è¯´è¯´ä½ çš„è¿™ä¸ªpm-hubé¡¹ç›®å§ï¼Ÿ&#34;&gt;&lt;a href=&#34;#2-è¯´è¯´ä½ çš„è¿™ä¸ªpm-hubé¡¹ç›®å§ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;2. è¯´è¯´ä½ çš„è¿™ä¸ªpm-hubé¡¹ç›®å§ï¼Ÿ&#34;&gt;&lt;/a&gt;2. è¯´è¯´ä½ çš„è¿™ä¸ªpm-hubé¡¹ç›®å§ï¼Ÿ&lt;/h3&gt;&lt;p&gt;ï¼ˆé¡¹ç›®èƒŒæ™¯ã€è§£å†³é—®é¢˜ã€èŒè´£ä»»åŠ¡ã€‚2é¡¹ç›®ä½¿ç”¨çš„æŠ€æœ¯æ ˆã€æŠ€æœ¯æ¶æ„ã€æ˜¯å¦ä½¿ç”¨å¾®æœåŠ¡ï¼Œé¡¹ç›®å…·ä½“åŠŸèƒ½ç»†èŠ‚ã€‚æŠ€æœ¯å…·ä½“å®ç°ç»†èŠ‚ã€‚é¡¹ç›®å­˜åœ¨çš„é—®é¢˜å’Œå®Œå–„è§£å†³æ–¹æ¡ˆã€‚é¡¹ç›®å…·ä½“åŠŸèƒ½çš„ä¼˜åŒ–ï¼ˆå¦‚æŸ¥è¯¢æ˜¯åœ¨æ•°æ®åº“ä¸­æ‰«è¡¨æŸ¥è¯¢å—ï¼‰é¡¹ç›®æœ€æœ‰æŒ‘æˆ˜çš„æ¨¡å—ï¼Œå¦‚ä½•è§£å†³ï¼Œé¡¹ç›®å¢å¤§10å€çš„qpsï¼Œå¦‚ä½•è®¾è®¡ï¼Ÿé¡¹ç›®ä¸Šçº¿åå‡ºç°é¢‘ç¹fullGcï¼Œæ€ä¹ˆè§£å†³ï¼Ÿï¼‰&lt;br&gt;å¥½çš„ï¼Œè¿™ä¸ªé¡¹ç›®æ˜¯æˆ‘ï¼ˆè·Ÿå®¤å‹&amp;#x2F;åŒå­¦&amp;#x2F;è€å¸ˆä¸€èµ·åšçš„ã€‚&amp;#x2F;å‚è€ƒå¼€æºé¡¹ç›®åšçš„ä¸€ä¸ªäºŒæ¬¡å¼€å‘ï¼‰ï¼Œåšè¿™ä¸ªé¡¹ç›®æ˜¯ä¸ºäº†â€¦â€¦ï¼Œè€ƒè™‘åˆ°â€”æ‰€ä»¥é¡¹ç›®ä¸­ç”¨åˆ°äº†***ï¼Œå½“æ—¶æˆ‘è´Ÿè´£çš„éƒ¨åˆ†æ˜¯ã€‚å‘ç°é€Ÿåº¦&amp;#x2F;å¯ç”¨æ€§ä¸å¤Ÿï¼Œè¿›è¡Œäº†SQLä¼˜åŒ–ï¼Œåˆ†å¸ƒå¼é”ï¼Œseataäº‹åŠ¡,skywalkingç›‘æ§ç­‰ã€‚ç¬¬äºŒä¸ªé¡¹ç›®æ˜¯â€¦â€¦ï¼Œå› ä¸ºæœ€è¿‘AIæ¯”è¾ƒæµè¡Œï¼Œæˆ‘å°±æƒ³å­¦ä¸€äº›æ–°æŠ€æœ¯ï¼Œè·Ÿä¸Šæ—¶ä»£çš„æ­¥ä¼ï¼Œè¿™ä¸ªé¡¹ç›®æ˜¯å‚è€ƒå¼€æºé¡¹ç›®ï¼Œç”¨äº†â€¦â€¦æŠ€æœ¯æ ˆï¼Œå®ç°äº†â€¦â€¦åŠŸèƒ½ï¼Œä¼˜åŒ–ï¼Œè§£å†³â€¦â€¦é—®é¢˜ã€‚ä»¥ä¸Šæ˜¯æˆ‘çš„é¡¹ç›®ä»‹ç»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3-é¡¹ç›®ä¸­é‡åˆ°æœ€å¤§çš„å›°éš¾ï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ&#34;&gt;&lt;a href=&#34;#3-é¡¹ç›®ä¸­é‡åˆ°æœ€å¤§çš„å›°éš¾ï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;3. é¡¹ç›®ä¸­é‡åˆ°æœ€å¤§çš„å›°éš¾ï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ&#34;&gt;&lt;/a&gt;3. é¡¹ç›®ä¸­é‡åˆ°æœ€å¤§çš„å›°éš¾ï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ&lt;/h3&gt;&lt;hr&gt;
&lt;h3 id=&#34;4-å¹³æ—¶æ˜¯æ€ä¹ˆå­¦ä¹ çš„ï¼Ÿ&#34;&gt;&lt;a href=&#34;#4-å¹³æ—¶æ˜¯æ€ä¹ˆå­¦ä¹ çš„ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;4. å¹³æ—¶æ˜¯æ€ä¹ˆå­¦ä¹ çš„ï¼Ÿ&#34;&gt;&lt;/a&gt;4. å¹³æ—¶æ˜¯æ€ä¹ˆå­¦ä¹ çš„ï¼Ÿ&lt;/h3&gt;&lt;p&gt;æ¯”å¦‚æˆ‘å­¦ä¸€é—¨æ–°æŠ€æœ¯å§ï¼Œé¦–å…ˆçœ‹å®˜æ–¹æ–‡æ¡£ï¼Œå¦‚æœæ™¦æ¶©éš¾æ‡‚å°±ä¼šæ‰¾æ•™ç¨‹&amp;#x2F;è§†é¢‘ï¼Œè¿˜ä¼šä½¿ç”¨AIå·¥å…·ï¼ˆè±†åŒ…ï¼ŒchatGPTï¼‰è¯¦ç»†è§£é‡Šè¾…åŠ©ç†è§£ï¼Œç„¶ååšä¸ªdemoç”¨åˆ°é¡¹ç›®ä¸­ï¼Œå¤§å­¦æœŸé—´æˆ‘å¤§å¤šæ˜¯åœ¨å¼€æºç¤¾åŒºå­¦ä¹ è¿˜æœ‰ç½‘è¯¾ã€‚&lt;/p&gt;
&lt;h3 id=&#34;5-äººç”Ÿå‘å±•ã€æœ€è¿‘äº”å¹´èŒä¸šè§„åˆ’&#34;&gt;&lt;a href=&#34;#5-äººç”Ÿå‘å±•ã€æœ€è¿‘äº”å¹´èŒä¸šè§„åˆ’&#34; class=&#34;headerlink&#34; title=&#34;5. äººç”Ÿå‘å±•ã€æœ€è¿‘äº”å¹´èŒä¸šè§„åˆ’&#34;&gt;&lt;/a&gt;5. äººç”Ÿå‘å±•ã€æœ€è¿‘äº”å¹´èŒä¸šè§„åˆ’&lt;/h3&gt;&lt;hr&gt;
&lt;h3 id=&#34;6-ä»€ä¹ˆæ—¶å€™èƒ½åˆ°å²—ï¼Ÿ&#34;&gt;&lt;a href=&#34;#6-ä»€ä¹ˆæ—¶å€™èƒ½åˆ°å²—ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;6. ä»€ä¹ˆæ—¶å€™èƒ½åˆ°å²—ï¼Ÿ&#34;&gt;&lt;/a&gt;6. ä»€ä¹ˆæ—¶å€™èƒ½åˆ°å²—ï¼Ÿ&lt;/h3&gt;&lt;h3 id=&#34;7-è–ªèµ„è¦æ±‚ï¼Ÿ&#34;&gt;&lt;a href=&#34;#7-è–ªèµ„è¦æ±‚ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;7. è–ªèµ„è¦æ±‚ï¼Ÿ&#34;&gt;&lt;/a&gt;7. è–ªèµ„è¦æ±‚ï¼Ÿ&lt;/h3&gt;&lt;h2 id=&#34;åé—®ï¼š&#34;&gt;&lt;a href=&#34;#åé—®ï¼š&#34; class=&#34;headerlink&#34; title=&#34;åé—®ï¼š&#34;&gt;&lt;/a&gt;åé—®ï¼š&lt;/h2&gt;&lt;h3 id=&#34;ä¸€é¢&#34;&gt;&lt;a href=&#34;#ä¸€é¢&#34; class=&#34;headerlink&#34; title=&#34;ä¸€é¢&#34;&gt;&lt;/a&gt;ä¸€é¢&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;éƒ¨é—¨ä¸»è¥ä¸šåŠ¡å’Œä½¿ç”¨çš„æŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ‚¨è§‰å¾—æˆ‘çš„ä¸“ä¸šèƒ½åŠ›æœ‰å“ªäº›éœ€è¦æå‡çš„ï¼Ÿ&lt;/li&gt;
&lt;li&gt;åˆšæ‰å…³äºxxé—®é¢˜ï¼Œæˆ‘æƒ³é—®ä¸‹æ‚¨çš„æ€è·¯ã€‚&lt;/li&gt;
&lt;li&gt;é¢è¯•ä¸€èˆ¬å¤šä¹…ä¼šå‡ºé€šçŸ¥å’Œç»“æœå‘¢ï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;äºŒé¢&#34;&gt;&lt;a href=&#34;#äºŒé¢&#34; class=&#34;headerlink&#34; title=&#34;äºŒé¢&#34;&gt;&lt;/a&gt;äºŒé¢&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;é¢è¯•å€™é€‰äººï¼Œå°¤å…¶æ˜¯æ ¡æ‹›ç”Ÿçš„æ—¶å€™ï¼Œæœ€çœ‹é‡ä»€ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ‚¨å¯¹è¿›å…¥æ‚¨å›¢é˜Ÿçš„æˆå‘˜çš„è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿæˆ–è€…è¯´éœ€è¦æ€æ ·çš„å“è´¨èƒœä»»è¿™ä¸ªèŒä½ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æˆ‘å¾ˆå¥½å¥‡èŒä½çš„æ™‹å‡æœºåˆ¶å’Œå‘å±•è·¯å¾„ã€‚å…¬å¸å¯¹ä¿¡ä»»çš„åŸ¹å…»æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;HRé¢-ä¸‰é¢&#34;&gt;&lt;a href=&#34;#HRé¢-ä¸‰é¢&#34; class=&#34;headerlink&#34; title=&#34;HRé¢&amp;#x2F;ä¸‰é¢&#34;&gt;&lt;/a&gt;HRé¢&amp;#x2F;ä¸‰é¢&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ä¼ä¸šæ–‡åŒ–&lt;/li&gt;
&lt;li&gt;ä»£è¡¨æ€§äº§å“&lt;/li&gt;
&lt;li&gt;å†å¹´è–ªèµ„&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://120115.xyz/2025/07/18/hello-world/</guid>
            <title>ä½ å¥½ï¼Œä¸–ç•Œ</title>
            <link>https://120115.xyz/2025/07/18/hello-world/</link>
            <category>Hexo</category>
            <category>åšå®¢</category>
            <pubDate>Fri, 18 Jul 2025 17:26:05 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;æ‘˜è¦ï¼š&lt;br&gt;æ¬¢è¿ä½¿ç”¨ Hexoï¼è¿™æ˜¯ä½ çš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« ã€‚&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;æ­£æ–‡ï¼š&lt;br&gt;ä½ å¥½ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººåšå®¢ï¼&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯æˆ‘ç”¨ Hexo æ­å»ºçš„ç¬¬ä¸€ä¸ªåšå®¢é¡µé¢ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œè®°å½•ç”Ÿæ´»ã€å­¦ä¹ ã€æŠ€æœ¯å¿ƒå¾—ç­‰å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥æŸ¥é˜… Hexo å®˜æ–¹æ–‡æ¡£ï¼Œæˆ–è€…åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµã€‚&lt;/p&gt;
&lt;p&gt;ç¥ä½ å†™ä½œæ„‰å¿«ï¼&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
